(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4333],{28214:(e,t,r)=>{"use strict";r.d(t,{IG:()=>p,db:()=>m,j2:()=>f,rm:()=>h});var a=r(23915),n=r(93004),o=r(35317),l=r(81427),s=r(90858),c=r(86864),d=r(49509);let i={apiKey:"AIzaSyDZoznRXygrNINbo60NI6oidbcxd1vQSlY",authDomain:"amplifydmvp.firebaseapp.com",projectId:"amplifydmvp",storageBucket:"amplifydmvp.appspot.com",messagingSenderId:"486875334710",appId:"1:486875334710:web:aa477f4f137cac9d3f7097",measurementId:"G-RJJ6V0LHFK"};if(!(i.apiKey&&i.authDomain&&i.projectId&&i.storageBucket&&i.messagingSenderId&&i.appId))throw Error("Missing Firebase environment variables. Please check your .env.local file.");let u=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)(i),f=(0,n.xI)(u),m=(0,o.aU)(u),p=(0,s.c7)(u);(0,c.TT)().then(e=>e?(0,c.P5)(u):null);let g=null;if(d.env.NEXT_PUBLIC_FIREBASE_AUTH_EMULATOR_HOST&&((0,n.Wq)(f,"http://".concat(d.env.NEXT_PUBLIC_FIREBASE_AUTH_EMULATOR_HOST)),console.log("Connected to Auth Emulator: http://".concat(d.env.NEXT_PUBLIC_FIREBASE_AUTH_EMULATOR_HOST))),d.env.NEXT_PUBLIC_FIREBASE_FIRESTORE_EMULATOR_HOST){let[e,t]=d.env.NEXT_PUBLIC_FIREBASE_FIRESTORE_EMULATOR_HOST.split(":");(0,o.vN)(m,e,parseInt(t)),console.log("Connected to Firestore Emulator: http://".concat(e,":").concat(t))}if(d.env.NEXT_PUBLIC_FIREBASE_STORAGE_EMULATOR_HOST){let[e,t]=d.env.NEXT_PUBLIC_FIREBASE_STORAGE_EMULATOR_HOST.split(":");(0,s.nb)(p,e,parseInt(t)),console.log("Connected to Storage Emulator: http://".concat(d.env.NEXT_PUBLIC_FIREBASE_STORAGE_EMULATOR_HOST))}if(g=(0,l.Uz)(u),d.env.NEXT_PUBLIC_FIREBASE_FUNCTIONS_EMULATOR_HOST){let[e,t]=d.env.NEXT_PUBLIC_FIREBASE_FUNCTIONS_EMULATOR_HOST.split(":");(0,l.f5)(g,e,parseInt(t)),console.log("Connected to Functions Emulator: http://".concat(e,":").concat(t))}function h(){if(!g&&(g=(0,l.Uz)(u),d.env.NEXT_PUBLIC_FIREBASE_FUNCTIONS_EMULATOR_HOST)){let[e,t]=d.env.NEXT_PUBLIC_FIREBASE_FUNCTIONS_EMULATOR_HOST.split(":");(0,l.f5)(g,e,parseInt(t)),console.log("Connected to Functions Emulator: http://".concat(e,":").concat(t))}return g}},37691:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(95155),n=r(12115),o=r(8731),l=r(28214),s=r(82320),c=r(66695),d=r(85127),i=r(50172);function u(){let[e,t,r]=(0,o.hD)(l.j2),[u,f]=(0,n.useState)([]),[m,p]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{e&&(async()=>{p(!0);try{let t=await (0,s.Oq)({artistId:e.uid});f(t)}catch(e){console.error("Error fetching artist submissions:",e)}finally{p(!1)}})()},[e]),t||m)?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)(i.A,{className:"w-8 h-8 animate-spin text-primary"})}):r?(0,a.jsxs)("p",{children:["Error: ",r.message]}):e?(0,a.jsxs)("div",{className:"container mx-auto py-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Artist Dashboard"}),(0,a.jsxs)(c.Zp,{children:[(0,a.jsx)(c.aR,{children:(0,a.jsx)(c.ZB,{children:"Your Submissions"})}),(0,a.jsx)(c.Wu,{children:0===u.length?(0,a.jsx)("p",{children:"You have no submissions yet."}):(0,a.jsxs)(d.XI,{children:[(0,a.jsx)(d.A0,{children:(0,a.jsxs)(d.Hj,{children:[(0,a.jsx)(d.nd,{children:"Song Title"}),(0,a.jsx)(d.nd,{children:"Status"}),(0,a.jsx)(d.nd,{children:"Submitted At"})]})}),(0,a.jsx)(d.BF,{children:u.map(e=>(0,a.jsxs)(d.Hj,{children:[(0,a.jsx)(d.nA,{children:e.songTitle}),(0,a.jsx)(d.nA,{children:e.status}),(0,a.jsx)(d.nA,{children:new Date(e.submittedAt).toLocaleDateString()})]},e.id))})]})})]})]}):(0,a.jsx)("p",{children:"Please log in to view your dashboard."})}},38995:(e,t,r)=>{"use strict";r.d(t,{Eb:()=>i,Sy:()=>d,dQ:()=>c,s2:()=>f,y6:()=>u});var a=r(35317),n=r(81427),o=r(28214);let l=null;function s(){console.log("Reviewer cache invalidated."),l=null}async function c(){if(l)return console.log("Returning cached reviewers..."),l;console.log("Fetching reviewers from Firestore...");let e=(await (0,a.GG)((0,a.P)((0,a.rJ)(o.db,"reviewers"),(0,a.My)("name")))).docs.map(e=>({id:e.id,...e.data()}));return l=e,e}async function d(e){console.log("[getReviewerById] Attempting to fetch reviewer with ID: ".concat(e));let t=(0,a.H9)(o.db,"reviewers",e),r=await (0,a.x7)(t);if(!r.exists())return console.log("[getReviewerById] No reviewer document found for ID: ".concat(e)),null;{let e={id:r.id,...r.data()};return console.log("[getReviewerById] Reviewer found:",e),e}}async function i(e,t){let r=(0,n.Uz)(),a=(0,n.Qg)(r,"addPackage");try{let r=await a(t);return s(),console.log("Add package function called for reviewer ".concat(e)),r.data}catch(t){console.error("Error calling addPackage Cloud Function:",t);let e="An unknown error occurred.";throw t instanceof Error?e=t.message:"object"==typeof t&&null!==t&&"message"in t&&(e=t.message),Error("Failed to add package: ".concat(e))}}async function u(e,t){let r=(0,n.Uz)(),a=(0,n.Qg)(r,"updatePackage");try{await a(t),s(),console.log("Update package function called for package ".concat(t.id))}catch(t){console.error("Error calling updatePackage Cloud Function:",t);let e="An unknown error occurred.";throw t instanceof Error?e=t.message:"object"==typeof t&&null!==t&&"message"in t&&(e=t.message),Error("Failed to update package: ".concat(e))}}async function f(e,t){let r=(0,n.Uz)(),a=(0,n.Qg)(r,"deletePackage");try{await a({packageId:t}),s(),console.log("Delete package function called for package ".concat(t))}catch(t){console.error("Error calling deletePackage Cloud Function:",t);let e="An unknown error occurred.";throw t instanceof Error?e=t.message:"object"==typeof t&&null!==t&&"message"in t&&(e=t.message),Error("Failed to delete package: ".concat(e))}}},43009:(e,t,r)=>{Promise.resolve().then(r.bind(r,37691))},50172:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},51368:(e,t,r)=>{"use strict";let a;r.d(t,{A:()=>s});let n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},o=new Uint8Array(16),l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));let s=function(e,t,r){if(n.randomUUID&&!t&&!e)return n.randomUUID();let s=(e=e||{}).random??e.rng?.()??function(){if(!a){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");a=crypto.getRandomValues.bind(crypto)}return a(o)}();if(s.length<16)throw Error("Random bytes length must be >= 16");if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){if((r=r||0)<0||r+16>t.length)throw RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=s[e];return t}return function(e,t=0){return(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase()}(s)}},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o});var a=r(52596),n=r(39688);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}},66695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>i,ZB:()=>c,Zp:()=>l,aR:()=>s,wL:()=>u});var a=r(95155),n=r(12115),o=r(59434);let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});l.displayName="Card";let s=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",r),...n})});s.displayName="CardHeader";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});c.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",r),...n})});d.displayName="CardDescription";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",r),...n})});i.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",r),...n})});u.displayName="CardFooter"},85127:(e,t,r)=>{"use strict";r.d(t,{A0:()=>s,BF:()=>c,Hj:()=>d,XI:()=>l,nA:()=>u,nd:()=>i});var a=r(95155),n=r(12115),o=r(59434);let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,o.cn)("w-full caption-bottom text-sm",r),...n})})});l.displayName="Table";let s=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("thead",{ref:t,className:(0,o.cn)("[&_tr]:border-b",r),...n})});s.displayName="TableHeader";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,o.cn)("[&_tr:last-child]:border-0",r),...n})});c.displayName="TableBody",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,o.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...n})}).displayName="TableFooter";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("tr",{ref:t,className:(0,o.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...n})});d.displayName="TableRow";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("th",{ref:t,className:(0,o.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...n})});i.displayName="TableHead";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("td",{ref:t,className:(0,o.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...n})});u.displayName="TableCell",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("caption",{ref:t,className:(0,o.cn)("mt-4 text-sm text-muted-foreground",r),...n})}).displayName="TableCaption"}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,3644,4277,555,5594,8731,2320,8441,1684,7358],()=>t(43009)),_N_E=e.O()}]);