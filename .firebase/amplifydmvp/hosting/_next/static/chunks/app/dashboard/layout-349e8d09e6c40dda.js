(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1954],{3260:(e,t,a)=>{Promise.resolve().then(a.bind(a,70388))},4637:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(95155),s=a(98921);function n(){return(0,r.jsxs)("div",{className:"flex items-center gap-2 text-primary",children:[(0,r.jsx)("div",{className:"bg-primary text-primary-foreground p-1.5 rounded-lg",children:(0,r.jsx)(s.A,{className:"w-5 h-5"})}),(0,r.jsx)("span",{className:"text-xl font-bold font-headline tracking-tighter",children:"Amplifyd"})]})}},28214:(e,t,a)=>{"use strict";a.d(t,{IG:()=>p,db:()=>m,j2:()=>f,rm:()=>g});var r=a(23915),s=a(93004),n=a(35317),l=a(81427),o=a(90858),i=a(86864),d=a(49509);let c={apiKey:"AIzaSyDZoznRXygrNINbo60NI6oidbcxd1vQSlY",authDomain:"amplifydmvp.firebaseapp.com",projectId:"amplifydmvp",storageBucket:"amplifydmvp.appspot.com",messagingSenderId:"486875334710",appId:"1:486875334710:web:aa477f4f137cac9d3f7097",measurementId:"G-RJJ6V0LHFK"};if(!(c.apiKey&&c.authDomain&&c.projectId&&c.storageBucket&&c.messagingSenderId&&c.appId))throw Error("Missing Firebase environment variables. Please check your .env.local file.");let u=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)(c),f=(0,s.xI)(u),m=(0,n.aU)(u),p=(0,o.c7)(u);(0,i.TT)().then(e=>e?(0,i.P5)(u):null);let h=null;if(d.env.NEXT_PUBLIC_FIREBASE_AUTH_EMULATOR_HOST&&((0,s.Wq)(f,"http://".concat(d.env.NEXT_PUBLIC_FIREBASE_AUTH_EMULATOR_HOST)),console.log("Connected to Auth Emulator: http://".concat(d.env.NEXT_PUBLIC_FIREBASE_AUTH_EMULATOR_HOST))),d.env.NEXT_PUBLIC_FIREBASE_FIRESTORE_EMULATOR_HOST){let[e,t]=d.env.NEXT_PUBLIC_FIREBASE_FIRESTORE_EMULATOR_HOST.split(":");(0,n.vN)(m,e,parseInt(t)),console.log("Connected to Firestore Emulator: http://".concat(e,":").concat(t))}if(d.env.NEXT_PUBLIC_FIREBASE_STORAGE_EMULATOR_HOST){let[e,t]=d.env.NEXT_PUBLIC_FIREBASE_STORAGE_EMULATOR_HOST.split(":");(0,o.nb)(p,e,parseInt(t)),console.log("Connected to Storage Emulator: http://".concat(d.env.NEXT_PUBLIC_FIREBASE_STORAGE_EMULATOR_HOST))}if(h=(0,l.Uz)(u),d.env.NEXT_PUBLIC_FIREBASE_FUNCTIONS_EMULATOR_HOST){let[e,t]=d.env.NEXT_PUBLIC_FIREBASE_FUNCTIONS_EMULATOR_HOST.split(":");(0,l.f5)(h,e,parseInt(t)),console.log("Connected to Functions Emulator: http://".concat(e,":").concat(t))}function g(){if(!h&&(h=(0,l.Uz)(u),d.env.NEXT_PUBLIC_FIREBASE_FUNCTIONS_EMULATOR_HOST)){let[e,t]=d.env.NEXT_PUBLIC_FIREBASE_FUNCTIONS_EMULATOR_HOST.split(":");(0,l.f5)(h,e,parseInt(t)),console.log("Connected to Functions Emulator: http://".concat(e,":").concat(t))}return h}},30285:(e,t,a)=>{"use strict";a.d(t,{$:()=>d,r:()=>i});var r=a(95155),s=a(12115),n=a(66634),l=a(74466),o=a(59434);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:l,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,r.jsx)(u,{className:(0,o.cn)(i({variant:s,size:l,className:a})),ref:t,...c})});d.displayName="Button"},30462:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},38382:(e,t,a)=>{"use strict";a.d(t,{CG:()=>c,cj:()=>d,h:()=>p});var r=a(95155),s=a(12115),n=a(45821),l=a(74466),o=a(25318),i=a(59434);let d=n.bL,c=n.l9;n.bm;let u=n.ZL,f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.hJ,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t})});f.displayName=n.hJ.displayName;let m=(0,l.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),p=s.forwardRef((e,t)=>{let{side:a="right",className:s,children:l,...d}=e;return(0,r.jsxs)(u,{children:[(0,r.jsx)(f,{}),(0,r.jsxs)(n.UC,{ref:t,className:(0,i.cn)(m({side:a}),s),...d,children:[l,(0,r.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,r.jsx)(o.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});p.displayName=n.UC.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold text-foreground",a),...s})}).displayName=n.hE.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...s})}).displayName=n.VY.displayName},45011:(e,t,a)=>{"use strict";a.d(t,{Kg:()=>i,lo:()=>l,pD:()=>o});var r=a(35317),s=a(81427),n=a(28214);async function l(){return console.log("Fetching users from Firestore..."),(await (0,r.GG)((0,r.P)((0,r.rJ)(n.db,"users"),(0,r.My)("joinedAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}async function o(){if(console.log("[getCurrentUserInfo] Getting current user info..."),!n.j2.currentUser)return console.log("[getCurrentUserInfo] No authenticated user."),null;console.log("[getCurrentUserInfo] Authenticated user UID: ".concat(n.j2.currentUser.uid));let e=(0,r.H9)(n.db,"users",n.j2.currentUser.uid),t=await (0,r.x7)(e);if(!t.exists())return console.log("[getCurrentUserInfo] No user document found for UID: ".concat(n.j2.currentUser.uid)),null;let a={id:t.id,...t.data()};return console.log("[getCurrentUserInfo] User document found:",a),a}async function i(e){console.log("Invoking 'approveApplication' cloud function for application: ".concat(e));try{let t=(0,s.Uz)(),a=(0,s.Qg)(t,"approveApplication"),r=await a({applicationId:e});return console.log("âœ… Application approved successfully.",r.data),r.data}catch(t){console.error("Error calling 'approveApplication' cloud function:",t);let e="An unknown error occurred.";throw t instanceof Error?e=t.message:"object"==typeof t&&null!==t&&"message"in t&&(e=t.message),Error("Failed to approve application: ".concat(e))}}},50172:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},59434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var r=a(52596),s=a(39688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},70388:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>w});var r=a(95155),s=a(6874),n=a.n(s),l=a(35695),o=a(18186),i=a(30462),d=a(98921),c=a(50286),u=a(91721),f=a(18271),m=a(33349),p=a(50172),h=a(15546),g=a(4637),x=a(59434),v=a(30285),b=a(91394),N=a(8731),y=a(28214),j=a(12115),A=a(38382),_=a(45011);let E=[{href:"/dashboard",label:"Home",icon:o.A},{href:"/dashboard/reviewer",label:"Reviewer Dashboard",icon:i.A},{href:"/dashboard/submissions",label:"Submissions",icon:d.A},{href:"/dashboard/reviews",label:"My Reviews",icon:i.A},{href:"/dashboard/referrals",label:"Referrals",icon:c.A},{href:"/dashboard/profile",label:"Profile",icon:u.A}],I=[{href:"/artist-dashboard",label:"My Submissions",icon:d.A},{href:"/dashboard/profile",label:"Profile",icon:u.A}],U=e=>{var t,a;let{user:s,pathname:l,userRole:o}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex h-16 items-center border-b px-6 lg:h-20",children:(0,r.jsx)(g.A,{})}),(0,r.jsx)("div",{className:"flex-1 overflow-auto py-2",children:(0,r.jsx)("nav",{className:"grid items-start px-4 text-sm font-medium",children:("artist"===o?I:E).map(e=>(0,r.jsxs)(n(),{href:e.href,className:(0,x.cn)("flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-primary",l===e.href&&"bg-muted text-primary"),children:[(0,r.jsx)(e.icon,{className:"h-4 w-4"}),e.label]},e.href))})}),(0,r.jsxs)("div",{className:"mt-auto border-t p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsxs)(b.Avatar,{children:[(0,r.jsx)(b.AvatarImage,{src:(null==s?void 0:s.avatarUrl)||"https://placehold.co/40x40.png",alt:"User","data-ai-hint":"woman portrait"}),(0,r.jsx)(b.AvatarFallback,{children:(null==s||null==(t=s.name)?void 0:t.charAt(0))||(null==s||null==(a=s.email)?void 0:a.charAt(0))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-semibold",children:(null==s?void 0:s.name)||"Reviewer"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:s.email})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(v.$,{asChild:!0,variant:"outline",className:"w-full justify-start text-muted-foreground hover:text-primary",children:(0,r.jsxs)(n(),{href:"/dashboard/profile",children:[(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Settings"]})}),(0,r.jsxs)(v.$,{variant:"outline",className:"w-full justify-start text-muted-foreground hover:text-primary",onClick:()=>y.j2.signOut(),children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})};function w(e){let{children:t}=e,a=(0,l.usePathname)(),s=(0,l.useRouter)(),[n,o,i]=(0,N.hD)(y.j2),[d,c]=(0,j.useState)(null),[u,f]=(0,j.useState)(!0),[m,g]=(0,j.useState)(null);return((0,j.useEffect)(()=>{let e=y.j2.onAuthStateChanged(async e=>{if(e){let t=await (0,_.pD)();t?(g(t),c(t.role),"admin"===t.role?s.push("/admin"):"uploader"===t.role?s.push("/artist-dashboard"):"reviewer"===t.role||s.push("/apply")):(console.warn("User ".concat(e.uid," not found in database. Redirecting to apply.")),s.push("/apply")),f(!1)}else s.push("/login"),f(!1)});return()=>e()},[s]),o||u||!m)?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)(p.A,{className:"w-8 h-8 animate-spin text-primary"})}):i||!n?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)("p",{children:"Redirecting to login..."})}):(0,r.jsxs)("div",{className:"grid min-h-screen w-full lg:grid-cols-[280px_1fr]",children:[(0,r.jsx)("div",{className:"hidden border-r bg-background lg:block",children:(0,r.jsx)("div",{className:"flex h-full max-h-screen flex-col gap-2 fixed w-[280px]",children:(0,r.jsx)(U,{user:m,pathname:a,userRole:d})})}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)("header",{className:"flex h-14 items-center gap-4 border-b bg-background px-6 lg:h-20",children:[(0,r.jsxs)(A.cj,{children:[(0,r.jsx)(A.CG,{asChild:!0,children:(0,r.jsxs)(v.$,{variant:"outline",size:"icon",className:"shrink-0 lg:hidden",children:[(0,r.jsx)(h.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"sr-only",children:"Toggle navigation menu"})]})}),(0,r.jsx)(A.h,{side:"left",className:"flex flex-col p-0",children:(0,r.jsx)(U,{user:m,pathname:a,userRole:d})})]}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("h1",{className:"text-xl font-semibold",children:"Reviewer Dashboard"})})]}),(0,r.jsx)("main",{className:"flex-1 p-4 md:p-6",children:t})]})]})}},91394:(e,t,a)=>{"use strict";a.d(t,{Avatar:()=>o,AvatarFallback:()=>d,AvatarImage:()=>i});var r=a(95155),s=a(12115),n=a(85977),l=a(59434);let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.bL,{ref:t,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...s})});o.displayName=n.bL.displayName;let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n._V,{ref:t,className:(0,l.cn)("aspect-square h-full w-full",a),...s})});i.displayName=n._V.displayName;let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.H4,{ref:t,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...s})});d.displayName=n.H4.displayName},91721:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,3644,4277,555,6874,375,8731,8207,2087,8441,1684,7358],()=>t(3260)),_N_E=e.O()}]);