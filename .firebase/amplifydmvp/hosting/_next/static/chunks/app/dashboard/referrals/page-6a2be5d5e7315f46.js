(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3768],{8376:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(40157).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},35695:(e,s,r)=>{"use strict";var t=r(18999);r.o(t,"useParams")&&r.d(s,{useParams:function(){return t.useParams}}),r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},37648:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(40157).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},38995:(e,s,r)=>{"use strict";r.d(s,{Eb:()=>o,Sy:()=>c,dQ:()=>d,s2:()=>m,y6:()=>u});var t=r(35317),n=r(81427),l=r(28214);let a=null;function i(){console.log("Reviewer cache invalidated."),a=null}async function d(){if(a)return console.log("Returning cached reviewers..."),a;console.log("Fetching reviewers from Firestore...");let e=(await (0,t.GG)((0,t.P)((0,t.rJ)(l.db,"reviewers"),(0,t.My)("name")))).docs.map(e=>({id:e.id,...e.data()}));return a=e,e}async function c(e){console.log("[getReviewerById] Attempting to fetch reviewer with ID: ".concat(e));let s=(0,t.H9)(l.db,"reviewers",e),r=await (0,t.x7)(s);if(!r.exists())return console.log("[getReviewerById] No reviewer document found for ID: ".concat(e)),null;{let e={id:r.id,...r.data()};return console.log("[getReviewerById] Reviewer found:",e),e}}async function o(e,s){let r=(0,n.Uz)(),t=(0,n.Qg)(r,"addPackage");try{let r=await t(s);return i(),console.log("Add package function called for reviewer ".concat(e)),r.data}catch(s){console.error("Error calling addPackage Cloud Function:",s);let e="An unknown error occurred.";throw s instanceof Error?e=s.message:"object"==typeof s&&null!==s&&"message"in s&&(e=s.message),Error("Failed to add package: ".concat(e))}}async function u(e,s){let r=(0,n.Uz)(),t=(0,n.Qg)(r,"updatePackage");try{await t(s),i(),console.log("Update package function called for package ".concat(s.id))}catch(s){console.error("Error calling updatePackage Cloud Function:",s);let e="An unknown error occurred.";throw s instanceof Error?e=s.message:"object"==typeof s&&null!==s&&"message"in s&&(e=s.message),Error("Failed to update package: ".concat(e))}}async function m(e,s){let r=(0,n.Uz)(),t=(0,n.Qg)(r,"deletePackage");try{await t({packageId:s}),i(),console.log("Delete package function called for package ".concat(s))}catch(s){console.error("Error calling deletePackage Cloud Function:",s);let e="An unknown error occurred.";throw s instanceof Error?e=s.message:"object"==typeof s&&null!==s&&"message"in s&&(e=s.message),Error("Failed to delete package: ".concat(e))}}},55365:(e,s,r)=>{"use strict";r.d(s,{Fc:()=>d,TN:()=>o,XL:()=>c});var t=r(95155),n=r(12115),l=r(74466),a=r(59434);let i=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=n.forwardRef((e,s)=>{let{className:r,variant:n,...l}=e;return(0,t.jsx)("div",{ref:s,role:"alert",className:(0,a.cn)(i({variant:n}),r),...l})});d.displayName="Alert";let c=n.forwardRef((e,s)=>{let{className:r,...n}=e;return(0,t.jsx)("h5",{ref:s,className:(0,a.cn)("mb-1 font-medium leading-none tracking-tight",r),...n})});c.displayName="AlertTitle";let o=n.forwardRef((e,s)=>{let{className:r,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,a.cn)("text-sm [&_p]:leading-relaxed",r),...n})});o.displayName="AlertDescription"},57804:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(40157).A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},59112:(e,s,r)=>{Promise.resolve().then(r.bind(r,83241))},59576:(e,s,r)=>{"use strict";r.d(s,{A:()=>u,AuthProvider:()=>o});var t=r(95155),n=r(12115),l=r(93004),a=r(28214),i=r(45011),d=r(50172);let c=(0,n.createContext)(void 0),o=e=>{let{children:s}=e,[r,o]=(0,n.useState)(null),[u,m]=(0,n.useState)(null),[x,h]=(0,n.useState)(!0),[f,j]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=(0,l.hg)(a.j2,async e=>{if(m(e),e)try{let e=await (0,i.pD)();console.log("User info in AuthContext:",e),o(e),j(null)}catch(s){console.error("Error fetching user info from Firestore:",s);let e="Failed to load user profile.";s instanceof Error?e=s.message:"object"==typeof s&&null!==s&&"message"in s&&(e=s.message),j(e),o(null)}else o(null),j(null);h(!1)});return()=>e()},[]);let g=(null==r?void 0:r.role)==="admin",p=(null==r?void 0:r.role)==="reviewer",v=(null==r?void 0:r.role)==="uploader";return x?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)(d.A,{className:"w-10 h-10 animate-spin text-primary"})}):(0,t.jsx)(c.Provider,{value:{currentUser:r,loading:x,error:f,firebaseUser:u,isAdmin:g,isReviewer:p,isUploader:v},children:s})},u=()=>{let e=(0,n.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},66634:(e,s,r)=>{"use strict";r.d(s,{DX:()=>i,TL:()=>a});var t=r(12115);function n(e,s){if("function"==typeof e)return e(s);null!=e&&(e.current=s)}var l=r(95155);function a(e){let s=function(e){let s=t.forwardRef((e,s)=>{let{children:r,...l}=e;if(t.isValidElement(r)){var a;let e,i,d=(a=r,(i=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(i=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),c=function(e,s){let r={...s};for(let t in s){let n=e[t],l=s[t];/^on[A-Z]/.test(t)?n&&l?r[t]=(...e)=>{let s=l(...e);return n(...e),s}:n&&(r[t]=n):"style"===t?r[t]={...n,...l}:"className"===t&&(r[t]=[n,l].filter(Boolean).join(" "))}return{...e,...r}}(l,r.props);return r.type!==t.Fragment&&(c.ref=s?function(...e){return s=>{let r=!1,t=e.map(e=>{let t=n(e,s);return r||"function"!=typeof t||(r=!0),t});if(r)return()=>{for(let s=0;s<t.length;s++){let r=t[s];"function"==typeof r?r():n(e[s],null)}}}}(s,d):d),t.cloneElement(r,c)}return t.Children.count(r)>1?t.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}(e),r=t.forwardRef((e,r)=>{let{children:n,...a}=e,i=t.Children.toArray(n),d=i.find(c);if(d){let e=d.props.children,n=i.map(s=>s!==d?s:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,l.jsx)(s,{...a,ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,n):null})}return(0,l.jsx)(s,{...a,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}var i=a("Slot"),d=Symbol("radix.slottable");function c(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}},74466:(e,s,r)=>{"use strict";r.d(s,{F:()=>a});var t=r(52596);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=t.$,a=(e,s)=>r=>{var t;if((null==s?void 0:s.variants)==null)return l(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:a,defaultVariants:i}=s,d=Object.keys(a).map(e=>{let s=null==r?void 0:r[e],t=null==i?void 0:i[e];if(null===s)return null;let l=n(s)||n(t);return a[e][l]}),c=r&&Object.entries(r).reduce((e,s)=>{let[r,t]=s;return void 0===t||(e[r]=t),e},{});return l(e,d,null==s||null==(t=s.compoundVariants)?void 0:t.reduce((e,s)=>{let{class:r,className:t,...n}=s;return Object.entries(n).every(e=>{let[s,r]=e;return Array.isArray(r)?r.includes({...i,...c}[s]):({...i,...c})[s]===r})?[...e,r,t]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},79556:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(40157).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},83241:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>T});var t=r(95155),n=r(66695),l=r(85127),a=r(26126),i=r(30285),d=r(6874),c=r.n(d),o=r(50286),u=r(34301),m=r(37648),x=r(8376),h=r(25318),f=r(50172),j=r(15599),g=r(40157);let p=(0,g.A)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);var v=r(57804),y=r(47053),N=r(88390),w=r(80659);let A=(0,g.A)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);var b=r(12115),C=r(90498),k=r(82320),E=r(68856),R=r(59576),B=r(55365),D=r(35695),F=r(87481),I=r(44838);let P=(0,g.A)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);var S=r(79556);function U(){return(0,t.jsxs)(l.Hj,{children:[(0,t.jsx)(l.nA,{children:(0,t.jsx)(E.E,{className:"h-4 w-32"})}),(0,t.jsx)(l.nA,{children:(0,t.jsx)(E.E,{className:"h-6 w-20 rounded-full"})}),(0,t.jsx)(l.nA,{children:(0,t.jsx)(E.E,{className:"h-4 w-24"})}),(0,t.jsx)(l.nA,{children:(0,t.jsx)(E.E,{className:"h-4 w-24"})}),(0,t.jsx)(l.nA,{children:(0,t.jsx)(E.E,{className:"h-4 w-32"})})]})}function H(){return(0,t.jsx)(l.Hj,{children:(0,t.jsx)(l.nA,{colSpan:5,children:(0,t.jsxs)("div",{className:"text-center py-10",children:[(0,t.jsx)(o.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,t.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No Referral Codes"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"You haven't generated any referral codes yet."}),(0,t.jsx)(i.$,{asChild:!0,className:"mt-4",children:(0,t.jsxs)(c(),{href:"/dashboard/referrals/generate",children:[(0,t.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Generate Your First Code"]})})]})})})}function T(){var e,s,r,d,g,T,G,Z,$,M,_,W,O,V,z,Y,q,L,Q,X;let{currentUser:J,loading:K}=(0,R.A)(),ee=(0,D.useSearchParams)().get("newCode"),{toast:es}=(0,F.dj)(),[er,et]=(0,b.useState)([]),[en,el]=(0,b.useState)(null),[ea,ei]=(0,b.useState)([]),[ed,ec]=(0,b.useState)(null),[eo,eu]=(0,b.useState)(!0),[em,ex]=(0,b.useState)(new Date);(0,b.useEffect)(()=>{if(K||!J||"reviewer"!==J.role)return void eu(!1);(async()=>{eu(!0);try{let[e,s,r,t]=await Promise.all([(0,k.Uz)(),(0,k.t0)(J.id),(0,k.Bo)(J.id),(0,k.ZB)(J.id)]),n=e.filter(e=>e.referrerId===J.id);et(n),el(s),ei(r),ec({myReferralInfo:t.myReferralInfo||{referredBy:null,referralCode:null,joinedAt:""},myGeneratedCodes:t.referralCodes||[],myReferrals:t.referralEarnings||[]})}catch(e){console.error("Error fetching referral data:",e)}finally{eu(!1)}})();let e=setInterval(()=>{ex(new Date)},3e4);return()=>clearInterval(e)},[J,K]);let eh=async e=>{try{await navigator.clipboard.writeText(e),es({title:"Code Copied!",description:"Referral code has been copied to your clipboard."})}catch(e){es({title:"Copy Failed",description:"Failed to copy code. Please copy it manually.",variant:"destructive"})}},ef=(e,s)=>{if("Active"!==s)return"N/A";let r=new Date(new Date(e).getTime()+864e5);return new Date>r?"Expired":"".concat((0,C.m)(r)," left")},ej=e=>{switch(e){case"Active":return(0,t.jsx)(m.A,{className:"w-4 h-4 text-green-600"});case"Used":return(0,t.jsx)(x.A,{className:"w-4 h-4 text-blue-600"});case"Expired":return(0,t.jsx)(h.A,{className:"w-4 h-4 text-red-600"});default:return null}};return K||eo?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,t.jsx)(f.A,{className:"w-8 h-8 animate-spin text-primary"})}):J&&"reviewer"===J.role?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold font-headline",children:"Referral Program"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Invite music industry professionals and earn 7% commission on their earnings."})]}),(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)(I.rI,{children:[(0,t.jsx)(I.ty,{asChild:!0,children:(0,t.jsxs)(i.$,{variant:"outline",className:"flex items-center gap-2",children:[(0,t.jsx)(P,{className:"h-4 w-4"}),"View All Codes (",er.length,")",(0,t.jsx)(S.A,{className:"h-4 w-4"})]})}),(0,t.jsxs)(I.SQ,{align:"start",className:"w-80",children:[(0,t.jsx)(I.lp,{children:"Your Referral Codes"}),(0,t.jsx)(I.mB,{}),eo?(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"h-4 w-4 animate-spin"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Loading codes..."})]})}):0===er.length?(0,t.jsxs)("div",{className:"p-4 text-center",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"No referral codes yet"}),(0,t.jsx)(i.$,{size:"sm",asChild:!0,children:(0,t.jsx)(c(),{href:"/dashboard/referrals/generate",children:"Generate First Code"})})]}):er.map(e=>(0,t.jsxs)(I._2,{className:"flex items-center justify-between p-3 cursor-pointer",onClick:()=>eh(e.code),children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"font-mono text-sm font-medium truncate",children:e.code}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,t.jsx)(a.Ex,{variant:"secondary",className:(0,a.BU)(e.status),children:e.status}),(0,t.jsxs)("span",{children:[(0,C.m)(new Date(e.createdAt))," ago"]})]})]}),"Active"===e.status&&(0,t.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground hover:text-foreground flex-shrink-0"})]},e.id)),(0,t.jsx)(I.mB,{}),(0,t.jsx)(I._2,{asChild:!0,children:(0,t.jsxs)(c(),{href:"/dashboard/referrals/generate",className:"w-full",children:[(0,t.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Generate New Code"]})})]})]})}),(0,t.jsxs)(B.Fc,{children:[(0,t.jsx)(p,{className:"h-4 w-4"}),(0,t.jsxs)(B.TN,{children:[(0,t.jsx)("strong",{children:"Earn 7% commission"})," on all earnings from reviewers you refer! Generate invite codes to invite other music industry professionals to join Amplifyd. Each code is valid for 24 hours and can only be used once."]})]}),ee&&!eo&&(()=>{let e=er.find(e=>e.id===ee);return e?(0,t.jsxs)(B.Fc,{className:"border-green-200 bg-green-50",children:[(0,t.jsx)(x.A,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)(B.TN,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"font-semibold text-green-800",children:"\uD83C\uDF89 Your referral code has been generated!"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"font-mono text-lg font-bold text-green-900 bg-green-100 p-2 rounded border flex-1",children:e.code}),(0,t.jsx)(i.$,{size:"sm",variant:"outline",onClick:()=>eh(e.code),className:"bg-green-100 hover:bg-green-200 border-green-300",children:(0,t.jsx)(j.A,{className:"h-4 w-4"})})]}),(0,t.jsx)("div",{className:"text-sm text-green-700",children:"Share this code with music industry professionals you'd like to invite. It's valid for 24 hours from now."})]})})]}):null})(),(null==ed||null==(e=ed.myReferralInfo)?void 0:e.referredBy)&&(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(v.A,{className:"w-5 h-5"}),"How You Joined Amplifyd"]}),(0,t.jsx)(n.BT,{children:"You were referred by another reviewer."})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-blue-900",children:"Referred by:"}),(0,t.jsx)("p",{className:"text-blue-800",children:null==ed||null==(r=ed.myReferralInfo)||null==(s=r.referredBy)?void 0:s.name}),(0,t.jsx)("p",{className:"text-sm text-blue-600",children:null==ed||null==(g=ed.myReferralInfo)||null==(d=g.referredBy)?void 0:d.email})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"font-medium text-blue-900",children:"Invite Code:"}),(0,t.jsx)("p",{className:"font-mono text-blue-800",children:null==ed||null==(G=ed.myReferralInfo)||null==(T=G.referralCode)?void 0:T.code}),(0,t.jsxs)("p",{className:"text-sm text-blue-600",children:["Joined ",(null==ed||null==(Z=ed.myReferralInfo)?void 0:Z.joinedAt)?(0,C.m)(new Date(null==ed||null==($=ed.myReferralInfo)?void 0:$.joinedAt)):"Unknown"," ago"]})]})]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"\uD83D\uDCA1 Thanks to their referral, you're now part of the Amplifyd reviewer community! Your referrer earns 7% commission on your earnings."})]})})]}),(null!=(z=null==ed||null==(M=ed.myGeneratedCodes)?void 0:M.length)?z:0)>0&&(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(y.A,{className:"w-5 h-5"}),"Complete Code History"]}),(0,t.jsxs)(n.BT,{children:["All referral codes you've ever generated (showing all ",(null!=(Y=null==ed||null==(_=ed.myGeneratedCodes)?void 0:_.length)?Y:0)||0," codes)"]})]}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsx)("div",{className:"space-y-2",children:(null!=(q=null==ed?void 0:ed.myGeneratedCodes)?q:[]).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"font-mono font-medium",children:e.code}),(0,t.jsx)(a.Ex,{variant:"secondary",className:(0,a.BU)(e.status),children:e.status})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Created ",(0,C.m)(new Date(e.createdAt))," ago"]}),e.usedByEmail&&(0,t.jsxs)("p",{className:"text-sm text-green-600 font-medium",children:["Used by ",e.usedByEmail]})]})]},e.id))}),(0,t.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["\uD83D\uDCCA ",(0,t.jsx)("strong",{children:"Total Stats:"})," ",(null!=(L=null==ed||null==(W=ed.myGeneratedCodes)?void 0:W.length)?L:0)||0," codes generated, ",null!=(Q=null==ed||null==(O=ed.myGeneratedCodes)?void 0:O.filter(e=>"Used"===e.status).length)?Q:0," used, ",null!=(X=null==ed||null==(V=ed.myReferrals)?void 0:V.length)?X:0," people referred"]})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsx)(n.Zp,{children:(0,t.jsx)(n.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Referrals"}),(0,t.jsx)("div",{className:"text-2xl font-bold",children:eo?(0,t.jsx)(E.E,{className:"h-8 w-16"}):(null==en?void 0:en.totalReferrals)||0})]}),(0,t.jsx)(o.A,{className:"h-8 w-8 text-blue-500"})]})})}),(0,t.jsx)(n.Zp,{children:(0,t.jsx)(n.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Referrals"}),(0,t.jsx)("div",{className:"text-2xl font-bold",children:eo?(0,t.jsx)(E.E,{className:"h-8 w-16"}):(null==en?void 0:en.activeReferrals)||0})]}),(0,t.jsx)(v.A,{className:"h-8 w-8 text-green-500"})]})})}),(0,t.jsx)(n.Zp,{children:(0,t.jsx)(n.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Earnings"}),(0,t.jsx)("div",{className:"text-2xl font-bold",children:eo?(0,t.jsx)(E.E,{className:"h-8 w-16"}):"$".concat((((null==en?void 0:en.totalEarnings)||0)/100).toFixed(2))})]}),(0,t.jsx)(N.A,{className:"h-8 w-8 text-yellow-500"})]})})}),(0,t.jsx)(n.Zp,{children:(0,t.jsx)(n.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Pending Earnings"}),(0,t.jsx)("div",{className:"text-2xl font-bold",children:eo?(0,t.jsx)(E.E,{className:"h-8 w-16"}):"$".concat((((null==en?void 0:en.pendingEarnings)||0)/100).toFixed(2))})]}),(0,t.jsx)(w.A,{className:"h-8 w-8 text-purple-500"})]})})})]}),ea.length>0&&(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(A,{className:"w-5 h-5"}),"Recent Referral Earnings"]}),(0,t.jsx)(n.BT,{children:"Your latest commission earnings from referred reviewers."})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsxs)(l.XI,{children:[(0,t.jsx)(l.A0,{children:(0,t.jsxs)(l.Hj,{children:[(0,t.jsx)(l.nd,{children:"Referred User"}),(0,t.jsx)(l.nd,{children:"Original Amount"}),(0,t.jsx)(l.nd,{children:"Commission (7%)"}),(0,t.jsx)(l.nd,{children:"Date"}),(0,t.jsx)(l.nd,{children:"Status"})]})}),(0,t.jsx)(l.BF,{children:ea.slice(0,5).map(e=>(0,t.jsxs)(l.Hj,{children:[(0,t.jsx)(l.nA,{className:"max-w-[250px]",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium truncate",title:e.referredUserName,children:e.referredUserName}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground truncate",title:e.referredUserEmail,children:e.referredUserEmail})]})}),(0,t.jsxs)(l.nA,{children:["$",(e.originalAmount/100).toFixed(2)]}),(0,t.jsxs)(l.nA,{className:"font-medium text-green-600",children:["$",(e.commissionAmount/100).toFixed(2)]}),(0,t.jsxs)(l.nA,{className:"text-sm text-muted-foreground",children:[(0,C.m)(new Date(e.createdAt))," ago"]}),(0,t.jsx)(l.nA,{children:(0,t.jsx)(a.Ex,{variant:"pending"===e.status?"secondary":"default",children:e.status})})]},e.id))})]})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{className:"flex flex-row items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.ZB,{children:"Invite Code Management"}),(0,t.jsx)(n.BT,{children:"Generate and track your referral codes for inviting new reviewers."})]}),(0,t.jsx)(i.$,{asChild:!0,children:(0,t.jsxs)(c(),{href:"/dashboard/referrals/generate",children:[(0,t.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Generate New Code"]})})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsxs)(l.XI,{children:[(0,t.jsx)(l.A0,{children:(0,t.jsxs)(l.Hj,{children:[(0,t.jsx)(l.nd,{children:"Invite Code"}),(0,t.jsx)(l.nd,{children:"Status"}),(0,t.jsx)(l.nd,{children:"Used By"}),(0,t.jsx)(l.nd,{children:"Created"}),(0,t.jsx)(l.nd,{children:"Expires"})]})}),(0,t.jsx)(l.BF,{children:eo?Array.from({length:3}).map((e,s)=>(0,t.jsx)(U,{},s)):er.length>0?er.map(e=>(0,t.jsxs)(l.Hj,{className:e.id===ee?"bg-green-50 border-l-4 border-l-green-500":"",children:[(0,t.jsx)(l.nA,{className:"font-mono font-medium max-w-[200px]",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"truncate",title:e.code,children:e.code}),"Active"===e.status&&(0,t.jsx)(i.$,{size:"sm",variant:"ghost",onClick:()=>eh(e.code),className:"h-6 w-6 p-0 opacity-60 hover:opacity-100 flex-shrink-0",children:(0,t.jsx)(j.A,{className:"h-3 w-3"})})]})}),(0,t.jsx)(l.nA,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[ej(e.status),(0,t.jsx)(a.Ex,{variant:"secondary",className:(0,a.BU)(e.status),children:e.status})]})}),(0,t.jsx)(l.nA,{className:"max-w-[200px]",children:e.usedByEmail?(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("div",{className:"font-medium truncate",title:e.usedByEmail,children:e.usedByEmail}),(0,t.jsx)("div",{className:"text-muted-foreground",children:e.usedAt?(0,C.m)(new Date(e.usedAt))+" ago":""})]}):(0,t.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,t.jsxs)(l.nA,{className:"text-muted-foreground text-sm",children:[(0,C.m)(new Date(e.createdAt))," ago"]}),(0,t.jsx)(l.nA,{className:"text-muted-foreground text-sm",children:ef(e.createdAt,e.status)})]},e.id)):(0,t.jsx)(H,{})})]})})]})]}):(0,t.jsxs)("div",{className:"text-center py-20",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Access Denied"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"You must be a reviewer to access this page."}),(0,t.jsx)(i.$,{asChild:!0,className:"mt-4",children:(0,t.jsx)(c(),{href:"/login",children:"Log In as Reviewer"})})]})}},88390:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(40157).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,3644,4277,555,6874,5594,375,6425,4052,3421,2604,2738,2320,99,8441,1684,7358],()=>s(59112)),_N_E=e.O()}]);