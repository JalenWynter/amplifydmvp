(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7122],{5059:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var n=a(95155),r=a(66695),s=a(85057),o=a(12115),i=a(4884),l=a(59434);let c=o.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(i.bL,{className:(0,l.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...r,ref:t,children:(0,n.jsx)(i.zi,{className:(0,l.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});c.displayName=i.bL.displayName;var d=a(82320),u=a(87481),p=a(50172);function f(){return(0,n.jsxs)(r.Zp,{children:[(0,n.jsxs)(r.aR,{children:[(0,n.jsx)("div",{className:"h-8 w-1/3 bg-muted rounded-md animate-pulse"}),(0,n.jsx)("div",{className:"h-4 w-2/3 bg-muted rounded-md animate-pulse"})]}),(0,n.jsx)(r.Wu,{className:"space-y-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsx)("div",{className:"h-5 w-1/4 bg-muted rounded-md animate-pulse"}),(0,n.jsx)("div",{className:"h-4 w-3/4 bg-muted rounded-md animate-pulse"})]}),(0,n.jsx)("div",{className:"h-6 w-11 bg-muted rounded-full animate-pulse"})]})})]})}function m(){let[e,t]=(0,o.useState)(null),[a,i]=(0,o.useState)(!0),[l,m]=(0,o.useState)(!1),{toast:g}=(0,u.dj)();(0,o.useEffect)(()=>{(async()=>{i(!0),t(await (0,d.tl)()),i(!1)})()},[]);let E=async a=>{if(!e)return;m(!0);let n=a?"invite-only":"open";try{await (0,d.uV)({applicationMode:n}),t(e=>e?{...e,applicationMode:n}:null),g({title:"Settings Updated",description:"Reviewer applications are now ".concat("invite-only"===n?"invite-only":"open to everyone",".")})}catch(e){console.error("Failed to update settings:",e),g({title:"Error",description:"Could not save settings.",variant:"destructive"})}finally{m(!1)}};return a?(0,n.jsx)(f,{}):e?(0,n.jsxs)(r.Zp,{children:[(0,n.jsxs)(r.aR,{children:[(0,n.jsx)(r.ZB,{children:"Platform Settings"}),(0,n.jsx)(r.BT,{children:"Manage global settings for the Amplifyd application."})]}),(0,n.jsx)(r.Wu,{className:"space-y-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[(0,n.jsxs)("div",{className:"space-y-0.5",children:[(0,n.jsx)(s.J,{htmlFor:"invite-only-mode",className:"text-base",children:"Invite-Only Applications"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"When enabled, new reviewers must provide a valid invite code to apply."})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[l&&(0,n.jsx)(p.A,{className:"h-4 w-4 animate-spin"}),(0,n.jsx)(c,{id:"invite-only-mode",checked:"invite-only"===e.applicationMode,onCheckedChange:E,disabled:l})]})]})})]}):(0,n.jsx)("div",{children:"Could not load application settings."})}},9038:(e,t,a)=>{Promise.resolve().then(a.bind(a,5059))},28214:(e,t,a)=>{"use strict";a.d(t,{IG:()=>m,db:()=>f,j2:()=>p,rm:()=>E});var n=a(23915),r=a(93004),s=a(35317),o=a(81427),i=a(90858),l=a(86864),c=a(49509);let d={apiKey:"AIzaSyDZoznRXygrNINbo60NI6oidbcxd1vQSlY",authDomain:"amplifydmvp.firebaseapp.com",projectId:"amplifydmvp",storageBucket:"amplifydmvp.appspot.com",messagingSenderId:"486875334710",appId:"1:486875334710:web:aa477f4f137cac9d3f7097",measurementId:"G-RJJ6V0LHFK"};if(!(d.apiKey&&d.authDomain&&d.projectId&&d.storageBucket&&d.messagingSenderId&&d.appId))throw Error("Missing Firebase environment variables. Please check your .env.local file.");let u=(0,n.Dk)().length?(0,n.Sx)():(0,n.Wp)(d),p=(0,r.xI)(u),f=(0,s.aU)(u),m=(0,i.c7)(u);(0,l.TT)().then(e=>e?(0,l.P5)(u):null);let g=null;if(c.env.NEXT_PUBLIC_FIREBASE_AUTH_EMULATOR_HOST&&((0,r.Wq)(p,"http://".concat(c.env.NEXT_PUBLIC_FIREBASE_AUTH_EMULATOR_HOST)),console.log("Connected to Auth Emulator: http://".concat(c.env.NEXT_PUBLIC_FIREBASE_AUTH_EMULATOR_HOST))),c.env.NEXT_PUBLIC_FIREBASE_FIRESTORE_EMULATOR_HOST){let[e,t]=c.env.NEXT_PUBLIC_FIREBASE_FIRESTORE_EMULATOR_HOST.split(":");(0,s.vN)(f,e,parseInt(t)),console.log("Connected to Firestore Emulator: http://".concat(e,":").concat(t))}if(c.env.NEXT_PUBLIC_FIREBASE_STORAGE_EMULATOR_HOST){let[e,t]=c.env.NEXT_PUBLIC_FIREBASE_STORAGE_EMULATOR_HOST.split(":");(0,i.nb)(m,e,parseInt(t)),console.log("Connected to Storage Emulator: http://".concat(c.env.NEXT_PUBLIC_FIREBASE_STORAGE_EMULATOR_HOST))}if(g=(0,o.Uz)(u),c.env.NEXT_PUBLIC_FIREBASE_FUNCTIONS_EMULATOR_HOST){let[e,t]=c.env.NEXT_PUBLIC_FIREBASE_FUNCTIONS_EMULATOR_HOST.split(":");(0,o.f5)(g,e,parseInt(t)),console.log("Connected to Functions Emulator: http://".concat(e,":").concat(t))}function E(){if(!g&&(g=(0,o.Uz)(u),c.env.NEXT_PUBLIC_FIREBASE_FUNCTIONS_EMULATOR_HOST)){let[e,t]=c.env.NEXT_PUBLIC_FIREBASE_FUNCTIONS_EMULATOR_HOST.split(":");(0,o.f5)(g,e,parseInt(t)),console.log("Connected to Functions Emulator: http://".concat(e,":").concat(t))}return g}},38995:(e,t,a)=>{"use strict";a.d(t,{Eb:()=>d,Sy:()=>c,dQ:()=>l,s2:()=>p,y6:()=>u});var n=a(35317),r=a(81427),s=a(28214);let o=null;function i(){console.log("Reviewer cache invalidated."),o=null}async function l(){if(o)return console.log("Returning cached reviewers..."),o;console.log("Fetching reviewers from Firestore...");let e=(await (0,n.GG)((0,n.P)((0,n.rJ)(s.db,"reviewers"),(0,n.My)("name")))).docs.map(e=>({id:e.id,...e.data()}));return o=e,e}async function c(e){console.log("[getReviewerById] Attempting to fetch reviewer with ID: ".concat(e));let t=(0,n.H9)(s.db,"reviewers",e),a=await (0,n.x7)(t);if(!a.exists())return console.log("[getReviewerById] No reviewer document found for ID: ".concat(e)),null;{let e={id:a.id,...a.data()};return console.log("[getReviewerById] Reviewer found:",e),e}}async function d(e,t){let a=(0,r.Uz)(),n=(0,r.Qg)(a,"addPackage");try{let a=await n(t);return i(),console.log("Add package function called for reviewer ".concat(e)),a.data}catch(t){console.error("Error calling addPackage Cloud Function:",t);let e="An unknown error occurred.";throw t instanceof Error?e=t.message:"object"==typeof t&&null!==t&&"message"in t&&(e=t.message),Error("Failed to add package: ".concat(e))}}async function u(e,t){let a=(0,r.Uz)(),n=(0,r.Qg)(a,"updatePackage");try{await n(t),i(),console.log("Update package function called for package ".concat(t.id))}catch(t){console.error("Error calling updatePackage Cloud Function:",t);let e="An unknown error occurred.";throw t instanceof Error?e=t.message:"object"==typeof t&&null!==t&&"message"in t&&(e=t.message),Error("Failed to update package: ".concat(e))}}async function p(e,t){let a=(0,r.Uz)(),n=(0,r.Qg)(a,"deletePackage");try{await n({packageId:t}),i(),console.log("Delete package function called for package ".concat(t))}catch(t){console.error("Error calling deletePackage Cloud Function:",t);let e="An unknown error occurred.";throw t instanceof Error?e=t.message:"object"==typeof t&&null!==t&&"message"in t&&(e=t.message),Error("Failed to delete package: ".concat(e))}}},59434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>s});var n=a(52596),r=a(39688);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,n.$)(t))}},66695:(e,t,a)=>{"use strict";a.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>o,aR:()=>i,wL:()=>u});var n=a(95155),r=a(12115),s=a(59434);let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});o.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});l.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",a),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",a),...r})});d.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",a),...r})});u.displayName="CardFooter"},85057:(e,t,a)=>{"use strict";a.d(t,{J:()=>c});var n=a(95155),r=a(12115),s=a(40968),o=a(74466),i=a(59434);let l=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(s.b,{ref:t,className:(0,i.cn)(l(),a),...r})});c.displayName=s.b.displayName},87481:(e,t,a)=>{"use strict";a.d(t,{dj:()=>p});var n=a(12115);let r=0,s=new Map,o=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?o(a):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function d(e){c=i(c,e),l.forEach(e=>{e(c)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),n=()=>d({type:"DISMISS_TOAST",toastId:a});return d({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||n()}}}),{id:a,dismiss:n,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function p(){let[e,t]=n.useState(c);return n.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,3644,4277,555,5594,6556,2320,8441,1684,7358],()=>t(9038)),_N_E=e.O()}]);