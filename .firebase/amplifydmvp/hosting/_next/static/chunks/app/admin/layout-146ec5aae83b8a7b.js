(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7581],{4637:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(95155),r=a(98921);function n(){return(0,s.jsxs)("div",{className:"flex items-center gap-2 text-primary",children:[(0,s.jsx)("div",{className:"bg-primary text-primary-foreground p-1.5 rounded-lg",children:(0,s.jsx)(r.A,{className:"w-5 h-5"})}),(0,s.jsx)("span",{className:"text-xl font-bold font-headline tracking-tighter",children:"Amplifyd"})]})}},28214:(e,t,a)=>{"use strict";a.d(t,{IG:()=>u,db:()=>f,j2:()=>h,rm:()=>x});var s=a(23915),r=a(93004),n=a(35317),l=a(81427),i=a(90858),o=a(86864),d=a(49509);let c={apiKey:"AIzaSyDZoznRXygrNINbo60NI6oidbcxd1vQSlY",authDomain:"amplifydmvp.firebaseapp.com",projectId:"amplifydmvp",storageBucket:"amplifydmvp.appspot.com",messagingSenderId:"486875334710",appId:"1:486875334710:web:aa477f4f137cac9d3f7097",measurementId:"G-RJJ6V0LHFK"};if(!(c.apiKey&&c.authDomain&&c.projectId&&c.storageBucket&&c.messagingSenderId&&c.appId))throw Error("Missing Firebase environment variables. Please check your .env.local file.");let m=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)(c),h=(0,r.xI)(m),f=(0,n.aU)(m),u=(0,i.c7)(m);(0,o.TT)().then(e=>e?(0,o.P5)(m):null);let p=null;if(d.env.NEXT_PUBLIC_FIREBASE_AUTH_EMULATOR_HOST&&((0,r.Wq)(h,"http://".concat(d.env.NEXT_PUBLIC_FIREBASE_AUTH_EMULATOR_HOST)),console.log("Connected to Auth Emulator: http://".concat(d.env.NEXT_PUBLIC_FIREBASE_AUTH_EMULATOR_HOST))),d.env.NEXT_PUBLIC_FIREBASE_FIRESTORE_EMULATOR_HOST){let[e,t]=d.env.NEXT_PUBLIC_FIREBASE_FIRESTORE_EMULATOR_HOST.split(":");(0,n.vN)(f,e,parseInt(t)),console.log("Connected to Firestore Emulator: http://".concat(e,":").concat(t))}if(d.env.NEXT_PUBLIC_FIREBASE_STORAGE_EMULATOR_HOST){let[e,t]=d.env.NEXT_PUBLIC_FIREBASE_STORAGE_EMULATOR_HOST.split(":");(0,i.nb)(u,e,parseInt(t)),console.log("Connected to Storage Emulator: http://".concat(d.env.NEXT_PUBLIC_FIREBASE_STORAGE_EMULATOR_HOST))}if(p=(0,l.Uz)(m),d.env.NEXT_PUBLIC_FIREBASE_FUNCTIONS_EMULATOR_HOST){let[e,t]=d.env.NEXT_PUBLIC_FIREBASE_FUNCTIONS_EMULATOR_HOST.split(":");(0,l.f5)(p,e,parseInt(t)),console.log("Connected to Functions Emulator: http://".concat(e,":").concat(t))}function x(){if(!p&&(p=(0,l.Uz)(m),d.env.NEXT_PUBLIC_FIREBASE_FUNCTIONS_EMULATOR_HOST)){let[e,t]=d.env.NEXT_PUBLIC_FIREBASE_FUNCTIONS_EMULATOR_HOST.split(":");(0,l.f5)(p,e,parseInt(t)),console.log("Connected to Functions Emulator: http://".concat(e,":").concat(t))}return p}},30285:(e,t,a)=>{"use strict";a.d(t,{$:()=>d,r:()=>o});var s=a(95155),r=a(12115),n=a(66634),l=a(74466),i=a(59434);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:l,asChild:d=!1,...c}=e,m=d?n.DX:"button";return(0,s.jsx)(m,{className:(0,i.cn)(o({variant:r,size:l,className:a})),ref:t,...c})});d.displayName="Button"},38382:(e,t,a)=>{"use strict";a.d(t,{CG:()=>c,cj:()=>d,h:()=>u});var s=a(95155),r=a(12115),n=a(45821),l=a(74466),i=a(25318),o=a(59434);let d=n.bL,c=n.l9;n.bm;let m=n.ZL,h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.hJ,{className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});h.displayName=n.hJ.displayName;let f=(0,l.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),u=r.forwardRef((e,t)=>{let{side:a="right",className:r,children:l,...d}=e;return(0,s.jsxs)(m,{children:[(0,s.jsx)(h,{}),(0,s.jsxs)(n.UC,{ref:t,className:(0,o.cn)(f({side:a}),r),...d,children:[l,(0,s.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,s.jsx)(i.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=n.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.hE,{ref:t,className:(0,o.cn)("text-lg font-semibold text-foreground",a),...r})}).displayName=n.hE.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.VY,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...r})}).displayName=n.VY.displayName},45731:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},59434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(52596),r=a(39688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},63641:(e,t,a)=>{Promise.resolve().then(a.bind(a,95681))},88390:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},91394:(e,t,a)=>{"use strict";a.d(t,{Avatar:()=>i,AvatarFallback:()=>d,AvatarImage:()=>o});var s=a(95155),r=a(12115),n=a(85977),l=a(59434);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.bL,{ref:t,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});i.displayName=n.bL.displayName;let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n._V,{ref:t,className:(0,l.cn)("aspect-square h-full w-full",a),...r})});o.displayName=n._V.displayName;let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.H4,{ref:t,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});d.displayName=n.H4.displayName},93223:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},95681:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var s=a(95155),r=a(12115),n=a(35695),l=a(93004),i=a(35317),o=a(28214),d=a(18186),c=a(50286),m=a(93223),h=a(40157);let f=(0,h.A)("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);var u=a(88390);let p=(0,h.A)("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);var x=a(18271),g=a(45731);let b=(0,h.A)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);var v=a(33349),N=a(15546),y=a(4637),_=a(30285),A=a(91394),E=a(6874),j=a.n(E),T=a(38382),I=a(59434);let S=[{title:"Platform",items:[{href:"/admin",label:"Dashboard",icon:d.A},{href:"/admin/users",label:"Users",icon:c.A},{href:"/admin/applications",label:"Applications",icon:m.A},{href:"/admin/submissions",label:"Submissions",icon:f}]},{title:"Business",items:[{href:"/admin/financials",label:"Financials",icon:u.A,subpath:"/payouts|/transactions"},{href:"/admin/referrals",label:"Referrals",icon:p,subpath:"/generate"}]},{title:"System",items:[{href:"/admin/settings",label:"Settings",icon:x.A},{href:"/admin/security",label:"Security",icon:g.A},{href:"/admin/api-logs",label:"API Logs",icon:f},{href:"/dev-setup",label:"Dev Tools",icon:b}]}],R=(e,t,a)=>!!("/admin"===t&&e===t||"/admin"!==t&&e.startsWith(t))||!!a&&a.split("|").some(a=>e.startsWith("".concat(t).concat(a))),U=e=>{let{pathname:t}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex h-16 items-center border-b px-6",children:(0,s.jsx)(y.A,{})}),(0,s.jsx)("div",{className:"flex-1 overflow-auto py-2",children:(0,s.jsx)("nav",{className:"grid items-start px-4 text-sm font-medium",children:S.map(e=>(0,s.jsxs)("div",{className:"py-2",children:[(0,s.jsx)("h2",{className:"mb-2 px-2 text-lg font-semibold tracking-tight",children:e.title}),(0,s.jsx)("div",{className:"space-y-1",children:e.items.map(e=>(0,s.jsxs)(j(),{href:e.href,className:(0,I.cn)("flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-primary",R(t,e.href,e.subpath)&&"bg-muted text-primary"),children:[(0,s.jsx)(e.icon,{className:"h-4 w-4"}),e.label]},e.href))})]},e.title))})}),(0,s.jsxs)("div",{className:"mt-auto border-t p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsxs)(A.Avatar,{className:"h-9 w-9",children:[(0,s.jsx)(A.AvatarImage,{src:"https://placehold.co/40x40.png",alt:"Admin User","data-ai-hint":"man portrait"}),(0,s.jsx)(A.AvatarFallback,{children:"A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-semibold",children:"Admin User"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"jwynterthomas@gmail.com"})]})]}),(0,s.jsxs)(_.$,{variant:"ghost",className:"w-full justify-start",children:[(0,s.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})};function k(e){let{children:t}=e,a=(0,n.usePathname)(),d=(0,n.useRouter)(),[c,m]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{let e=(0,l.hg)(o.j2,async e=>{if(!e)return void d.push("/login");let t=(0,i.H9)(o.db,"users",e.uid),a=await (0,i.x7)(t);if(a.exists()){let e=a.data();(null==e?void 0:e.role)==="admin"?m(!1):d.push("/dashboard")}else d.push("/login")});return()=>e()},[d]),c)?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Loading admin panel..."}):(0,s.jsxs)("div",{className:"grid min-h-screen w-full lg:grid-cols-[280px_1fr]",children:[(0,s.jsx)("div",{className:"hidden border-r bg-muted/40 lg:block",children:(0,s.jsx)("div",{className:"flex h-full max-h-screen flex-col gap-2 fixed w-[280px]",children:(0,s.jsx)(U,{pathname:a})})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("header",{className:"flex h-14 items-center gap-4 border-b bg-muted/40 px-6 lg:h-[60px]",children:[(0,s.jsxs)(T.cj,{children:[(0,s.jsx)(T.CG,{asChild:!0,children:(0,s.jsxs)(_.$,{variant:"outline",size:"icon",className:"shrink-0 lg:hidden",children:[(0,s.jsx)(N.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle navigation menu"})]})}),(0,s.jsx)(T.h,{side:"left",className:"flex flex-col p-0",children:(0,s.jsx)(U,{pathname:a})})]}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("h1",{className:"text-xl font-semibold",children:"Admin Panel"})})]}),(0,s.jsx)("main",{className:"flex-1 p-6",children:t})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,3644,4277,555,6874,375,8207,2087,8441,1684,7358],()=>t(63641)),_N_E=e.O()}]);