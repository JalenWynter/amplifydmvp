(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3698],{28214:(e,t,a)=>{"use strict";a.d(t,{IG:()=>h,db:()=>p,j2:()=>m,rm:()=>g});var s=a(23915),r=a(93004),l=a(35317),n=a(81427),c=a(90858),o=a(86864),i=a(49509);let d={apiKey:"AIzaSyDZoznRXygrNINbo60NI6oidbcxd1vQSlY",authDomain:"amplifydmvp.firebaseapp.com",projectId:"amplifydmvp",storageBucket:"amplifydmvp.appspot.com",messagingSenderId:"486875334710",appId:"1:486875334710:web:aa477f4f137cac9d3f7097",measurementId:"G-RJJ6V0LHFK"};if(!(d.apiKey&&d.authDomain&&d.projectId&&d.storageBucket&&d.messagingSenderId&&d.appId))throw Error("Missing Firebase environment variables. Please check your .env.local file.");let u=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)(d),m=(0,r.xI)(u),p=(0,l.aU)(u),h=(0,c.c7)(u);(0,o.TT)().then(e=>e?(0,o.P5)(u):null);let f=null;if(i.env.NEXT_PUBLIC_FIREBASE_AUTH_EMULATOR_HOST&&((0,r.Wq)(m,"http://".concat(i.env.NEXT_PUBLIC_FIREBASE_AUTH_EMULATOR_HOST)),console.log("Connected to Auth Emulator: http://".concat(i.env.NEXT_PUBLIC_FIREBASE_AUTH_EMULATOR_HOST))),i.env.NEXT_PUBLIC_FIREBASE_FIRESTORE_EMULATOR_HOST){let[e,t]=i.env.NEXT_PUBLIC_FIREBASE_FIRESTORE_EMULATOR_HOST.split(":");(0,l.vN)(p,e,parseInt(t)),console.log("Connected to Firestore Emulator: http://".concat(e,":").concat(t))}if(i.env.NEXT_PUBLIC_FIREBASE_STORAGE_EMULATOR_HOST){let[e,t]=i.env.NEXT_PUBLIC_FIREBASE_STORAGE_EMULATOR_HOST.split(":");(0,c.nb)(h,e,parseInt(t)),console.log("Connected to Storage Emulator: http://".concat(i.env.NEXT_PUBLIC_FIREBASE_STORAGE_EMULATOR_HOST))}if(f=(0,n.Uz)(u),i.env.NEXT_PUBLIC_FIREBASE_FUNCTIONS_EMULATOR_HOST){let[e,t]=i.env.NEXT_PUBLIC_FIREBASE_FUNCTIONS_EMULATOR_HOST.split(":");(0,n.f5)(f,e,parseInt(t)),console.log("Connected to Functions Emulator: http://".concat(e,":").concat(t))}function g(){if(!f&&(f=(0,n.Uz)(u),i.env.NEXT_PUBLIC_FIREBASE_FUNCTIONS_EMULATOR_HOST)){let[e,t]=i.env.NEXT_PUBLIC_FIREBASE_FUNCTIONS_EMULATOR_HOST.split(":");(0,n.f5)(f,e,parseInt(t)),console.log("Connected to Functions Emulator: http://".concat(e,":").concat(t))}return f}},38995:(e,t,a)=>{"use strict";a.d(t,{Eb:()=>d,Sy:()=>i,dQ:()=>o,s2:()=>m,y6:()=>u});var s=a(35317),r=a(81427),l=a(28214);let n=null;function c(){console.log("Reviewer cache invalidated."),n=null}async function o(){if(n)return console.log("Returning cached reviewers..."),n;console.log("Fetching reviewers from Firestore...");let e=(await (0,s.GG)((0,s.P)((0,s.rJ)(l.db,"reviewers"),(0,s.My)("name")))).docs.map(e=>({id:e.id,...e.data()}));return n=e,e}async function i(e){console.log("[getReviewerById] Attempting to fetch reviewer with ID: ".concat(e));let t=(0,s.H9)(l.db,"reviewers",e),a=await (0,s.x7)(t);if(!a.exists())return console.log("[getReviewerById] No reviewer document found for ID: ".concat(e)),null;{let e={id:a.id,...a.data()};return console.log("[getReviewerById] Reviewer found:",e),e}}async function d(e,t){let a=(0,r.Uz)(),s=(0,r.Qg)(a,"addPackage");try{let a=await s(t);return c(),console.log("Add package function called for reviewer ".concat(e)),a.data}catch(t){console.error("Error calling addPackage Cloud Function:",t);let e="An unknown error occurred.";throw t instanceof Error?e=t.message:"object"==typeof t&&null!==t&&"message"in t&&(e=t.message),Error("Failed to add package: ".concat(e))}}async function u(e,t){let a=(0,r.Uz)(),s=(0,r.Qg)(a,"updatePackage");try{await s(t),c(),console.log("Update package function called for package ".concat(t.id))}catch(t){console.error("Error calling updatePackage Cloud Function:",t);let e="An unknown error occurred.";throw t instanceof Error?e=t.message:"object"==typeof t&&null!==t&&"message"in t&&(e=t.message),Error("Failed to update package: ".concat(e))}}async function m(e,t){let a=(0,r.Uz)(),s=(0,r.Qg)(a,"deletePackage");try{await s({packageId:t}),c(),console.log("Delete package function called for package ".concat(t))}catch(t){console.error("Error calling deletePackage Cloud Function:",t);let e="An unknown error occurred.";throw t instanceof Error?e=t.message:"object"==typeof t&&null!==t&&"message"in t&&(e=t.message),Error("Failed to delete package: ".concat(e))}}},57020:(e,t,a)=>{Promise.resolve().then(a.bind(a,77220))},57804:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},59434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var s=a(52596),r=a(39688);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},66695:(e,t,a)=>{"use strict";a.d(t,{BT:()=>i,Wu:()=>d,ZB:()=>o,Zp:()=>n,aR:()=>c,wL:()=>u});var s=a(95155),r=a(12115),l=a(59434);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});n.displayName="Card";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});c.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});o.displayName="CardTitle";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});i.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...r})});d.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})});u.displayName="CardFooter"},68856:(e,t,a)=>{"use strict";a.d(t,{E:()=>l});var s=a(95155),r=a(59434);function l(e){let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",t),...a})}},77220:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var s=a(95155),r=a(66695),l=a(82320),n=a(12115),c=a(68856),o=a(35462),i=a(67426),d=a(55028),u=a(50286),m=a(57804),p=a(98921),h=a(93223);let f=(0,d.default)(()=>Promise.all([a.e(191),a.e(685)]).then(a.bind(a,30685)),{loadableGenerated:{webpack:()=>[30685]},ssr:!1,loading:()=>(0,s.jsx)(c.E,{className:"h-80"})}),g=(0,d.default)(()=>Promise.all([a.e(191),a.e(2748)]).then(a.bind(a,82748)),{loadableGenerated:{webpack:()=>[82748]},ssr:!1,loading:()=>(0,s.jsx)(c.E,{className:"h-80"})}),x=(0,d.default)(()=>Promise.all([a.e(9260),a.e(352)]).then(a.bind(a,26301)),{loadableGenerated:{webpack:()=>[26301]},ssr:!1,loading:()=>(0,s.jsx)(c.E,{className:"h-80"})});function E(e){let{title:t,value:a,icon:l,description:n}=e;return(0,s.jsxs)(r.Zp,{children:[(0,s.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(r.ZB,{className:"text-sm font-medium",children:t}),(0,s.jsx)(l,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(r.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:a}),n&&(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:n})]})]})}function y(){return(0,s.jsxs)(r.Zp,{children:[(0,s.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(c.E,{className:"h-4 w-2/3"}),(0,s.jsx)(c.E,{className:"h-4 w-4"})]}),(0,s.jsxs)(r.Wu,{children:[(0,s.jsx)(c.E,{className:"h-8 w-1/3"}),(0,s.jsx)(c.E,{className:"h-3 w-1/2 mt-1"})]})]})}function v(){let[e,t]=(0,n.useState)(null),[a,d]=(0,n.useState)([]),[v,j]=(0,n.useState)([]),[N,w]=(0,n.useState)([]),[_,R]=(0,n.useState)(!0);(0,n.useEffect)(()=>{(async()=>{R(!0);let[e,a,s,r]=await Promise.all([(0,l.wx)(),(0,l.lo)(),(0,l.Oq)({all:!0}),(0,l.QX)(5)]);t(e),d(function(e){let t=new Date,a={};for(let e=5;e>=0;e--){let s=(0,o.a)(t,e),r=(0,i.GP)(s,"yyyy-MM"),l=(0,i.GP)(s,"MMM");a[r]={month:l,users:0,reviewers:0}}return e.forEach(e=>{let t=new Date(e.joinedAt),s=(0,i.GP)(t,"yyyy-MM");a[s]&&(a[s].users++,"reviewer"===e.role&&a[s].reviewers++)}),Object.values(a)}(a)),j(function(e){let t=new Date,a={};for(let e=5;e>=0;e--){let s=(0,o.a)(t,e),r=(0,i.GP)(s,"yyyy-MM"),l=(0,i.GP)(s,"MMM");a[r]={month:l,pop:0,rock:0,hiphop:0,electronic:0}}return e.forEach(e=>{let t=new Date(e.submittedAt),s=(0,i.GP)(t,"yyyy-MM");if(a[s])switch(e.genre){case"Pop":a[s].pop++;break;case"Rock/Indie":a[s].rock++;break;case"Hip-Hop/R&B":a[s].hiphop++;break;case"Electronic":a[s].electronic++}}),Object.values(a)}(s)),w(r),R(!1)})()},[]);let T=e?[{title:"Total Users",value:e.totalUsers.toString(),icon:u.A},{title:"Total Reviewers",value:e.totalReviewers.toString(),icon:m.A},{title:"Music Submissions",value:e.totalSubmissions.toString(),icon:p.A},{title:"Completed Reviews",value:e.completedReviews.toString(),icon:h.A}]:[];return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold font-headline",children:"Platform Overview"}),(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:_?Array.from({length:4}).map((e,t)=>(0,s.jsx)(y,{},t)):T.map(e=>(0,s.jsx)(E,{...e},e.title))}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)(r.Zp,{children:[(0,s.jsxs)(r.aR,{children:[(0,s.jsx)(r.ZB,{children:"User Growth"}),(0,s.jsx)(r.BT,{children:"Monthly new users and reviewers over the last 6 months."})]}),(0,s.jsx)(r.Wu,{className:"pl-2",children:_?(0,s.jsx)(c.E,{className:"h-80"}):(0,s.jsx)(f,{data:a})})]}),(0,s.jsxs)(r.Zp,{children:[(0,s.jsxs)(r.aR,{children:[(0,s.jsx)(r.ZB,{children:"Submission Trends"}),(0,s.jsx)(r.BT,{children:"Monthly music submissions by genre."})]}),(0,s.jsx)(r.Wu,{className:"pl-2",children:_?(0,s.jsx)(c.E,{className:"h-80"}):(0,s.jsx)(g,{data:v})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,s.jsxs)(r.Zp,{children:[(0,s.jsxs)(r.aR,{children:[(0,s.jsx)(r.ZB,{children:"Recent Activity"}),(0,s.jsx)(r.BT,{children:"Recent platform events and actions."})]}),(0,s.jsx)(r.Wu,{children:_?(0,s.jsx)(c.E,{className:"h-40 w-full"}):N.length>0?(0,s.jsx)("ul",{className:"space-y-2",children:N.map(e=>(0,s.jsxs)("li",{className:"border-b pb-2 last:border-b-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:e.type.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleString()}),e.userEmail&&(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["By: ",e.userEmail]}),e.details&&Object.keys(e.details).length>0&&(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Details: ",JSON.stringify(e.details)]})]},e.id))}):(0,s.jsx)("div",{className:"text-center py-10 border-2 border-dashed rounded-lg",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"No recent activity to display."})})})]}),(0,s.jsxs)(r.Zp,{children:[(0,s.jsxs)(r.aR,{children:[(0,s.jsx)(r.ZB,{children:"Referral Code Management"}),(0,s.jsx)(r.BT,{children:"Create and manage referral codes for reviewers."})]}),(0,s.jsx)(r.Wu,{children:(0,s.jsx)(x,{})})]})]})]})}},93223:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},98921:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,3644,4277,555,5594,2604,1788,2320,8441,1684,7358],()=>t(57020)),_N_E=e.O()}]);