(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7061],{17313:(e,r,s)=>{"use strict";s.d(r,{Xi:()=>c,av:()=>o,j7:()=>d,tU:()=>i});var t=s(95155),a=s(12115),l=s(60704),n=s(59434);let i=l.bL,d=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(l.B8,{ref:r,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...a})});d.displayName=l.B8.displayName;let c=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(l.l9,{ref:r,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...a})});c.displayName=l.l9.displayName;let o=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(l.UC,{ref:r,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...a})});o.displayName=l.UC.displayName},59434:(e,r,s)=>{"use strict";s.d(r,{cn:()=>l});var t=s(52596),a=s(39688);function l(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,a.QP)((0,t.$)(r))}},65117:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>m});var t=s(95155),a=s(66695),l=s(45731),n=s(50172),i=s(12115),d=s(17313),c=s(47655),o=s(59434);let f=i.forwardRef((e,r)=>{let{className:s,children:a,...l}=e;return(0,t.jsxs)(c.bL,{ref:r,className:(0,o.cn)("relative overflow-hidden",s),...l,children:[(0,t.jsx)(c.LM,{className:"h-full w-full rounded-[inherit]",children:a}),(0,t.jsx)(u,{}),(0,t.jsx)(c.OK,{})]})});f.displayName=c.bL.displayName;let u=i.forwardRef((e,r)=>{let{className:s,orientation:a="vertical",...l}=e;return(0,t.jsx)(c.VM,{ref:r,orientation:a,className:(0,o.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...l,children:(0,t.jsx)(c.lr,{className:"relative flex-1 rounded-full bg-border"})})});async function x(e){let r=await fetch("/api/admin/rules?filename=".concat(e));if(!r.ok)throw Error((await r.json()).error||"Failed to fetch ".concat(e));return(await r.json()).content}function m(){let[e,r]=(0,i.useState)(null),[s,c]=(0,i.useState)(null),[o,u]=(0,i.useState)(!0),[m,h]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{u(!0),h(null);try{let e=await x("firestore.rules");r(e);let s=await x("storage.rules");c(s)}catch(r){console.error("Failed to fetch Firebase rules:",r);let e="Failed to load security rules. Ensure the files exist and are accessible.";r instanceof Error?e=r.message:"object"==typeof r&&null!==r&&"message"in r&&(e=r.message),h(e)}finally{u(!1)}})()},[]),(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)(a.Zp,{children:[(0,t.jsxs)(a.aR,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(l.A,{className:"w-6 h-6 text-primary"}),(0,t.jsx)(a.ZB,{children:"Firebase Security Rules"})]}),(0,t.jsx)(a.BT,{children:"View and manage your Firestore and Storage security rules."})]}),(0,t.jsx)(a.Wu,{children:o?(0,t.jsx)("div",{className:"flex items-center justify-center h-40",children:(0,t.jsx)(n.A,{className:"h-8 w-8 animate-spin text-primary"})}):m?(0,t.jsx)("div",{className:"text-center text-destructive py-4",children:(0,t.jsx)("p",{children:m})}):(0,t.jsxs)(d.tU,{defaultValue:"firestore",className:"w-full",children:[(0,t.jsxs)(d.j7,{className:"grid w-full grid-cols-2",children:[(0,t.jsx)(d.Xi,{value:"firestore",children:"Firestore Rules"}),(0,t.jsx)(d.Xi,{value:"storage",children:"Storage Rules"})]}),(0,t.jsx)(d.av,{value:"firestore",children:(0,t.jsxs)(a.Zp,{children:[(0,t.jsx)(a.aR,{children:(0,t.jsx)(a.ZB,{children:"firestore.rules"})}),(0,t.jsx)(a.Wu,{children:(0,t.jsx)(f,{className:"h-[400px] rounded-md border p-4 font-mono text-sm bg-gray-50",children:(0,t.jsx)("pre",{children:e||"No firestore.rules content found."})})})]})}),(0,t.jsx)(d.av,{value:"storage",children:(0,t.jsxs)(a.Zp,{children:[(0,t.jsx)(a.aR,{children:(0,t.jsx)(a.ZB,{children:"storage.rules"})}),(0,t.jsx)(a.Wu,{children:(0,t.jsx)(f,{className:"h-[400px] rounded-md border p-4 font-mono text-sm bg-gray-50",children:(0,t.jsx)("pre",{children:s||"No storage.rules content found."})})})]})})]})})]})})}u.displayName=c.VM.displayName},66695:(e,r,s)=>{"use strict";s.d(r,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>n,aR:()=>i,wL:()=>f});var t=s(95155),a=s(12115),l=s(59434);let n=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});n.displayName="Card";let i=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...a})});i.displayName="CardHeader";let d=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});d.displayName="CardTitle";let c=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",s),...a})});c.displayName="CardDescription";let o=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",s),...a})});o.displayName="CardContent";let f=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",s),...a})});f.displayName="CardFooter"},79167:(e,r,s)=>{Promise.resolve().then(s.bind(s,65117))}},e=>{var r=r=>e(e.s=r);e.O(0,[4277,4052,4225,8441,1684,7358],()=>r(79167)),_N_E=e.O()}]);