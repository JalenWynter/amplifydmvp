"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9521],{9521:(e,s,a)=>{a.d(s,{A:()=>y,Y:()=>N});var r=a(95155),l=a(55594),t=a(85057),i=a(12115),c=a(54073),n=a(59434);let d=i.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,r.jsxs)(c.bL,{ref:s,className:(0,n.cn)("relative flex w-full touch-none select-none items-center",a),...l,children:[(0,r.jsx)(c.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,r.jsx)(c.Q6,{className:"absolute h-full bg-primary"})}),(0,r.jsx)(c.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});d.displayName=c.bL.displayName;var o=a(88539),u=a(10549),m=a(17759),h=a(33598),x=a(57599),p=a(66695),j=a(12887),g=a(6273),f=a(33374);let v={Composition:[{id:"originality",label:"Originality & Creativity"},{id:"structure",label:"Song Structure & Arrangement"},{id:"melody",label:"Melody & Hooks"},{id:"lyrics",label:"Lyrics & Storytelling"}],Performance:[{id:"vocal_performance",label:"Vocal Performance"},{id:"instrumental_performance",label:"Instrumental Performance"},{id:"energy",label:"Energy & Emotion"},{id:"technical_skill",label:"Technical Skill"}],Production:[{id:"sound_quality",label:"Sound Quality & Clarity"},{id:"mixing",label:"Mixing & Balance"},{id:"sound_design",label:"Sound Design & Effects"},{id:"mastering",label:"Mastering & Loudness"}],Marketability:[{id:"commercial_potential",label:"Commercial Potential"},{id:"target_audience",label:"Target Audience Appeal"},{id:"branding",label:"Artist Branding Cohesion"},{id:"uniqueness",label:"Uniqueness in Market"}]},b=Object.values(v).flat().map(e=>e.id).reduce((e,s)=>(e[s]=l.ai().min(0).max(10),e),{});b.strengths=l.Yj().min(50,"Please provide at least 50 characters on strengths."),b.improvements=l.Yj().min(50,"Please provide at least 50 characters on areas for improvement."),b.summary=l.Yj().min(100,"Please provide at least 100 characters for the overall review."),b.audioFeedbackUrl=l.Yj().optional(),b.videoFeedbackUrl=l.Yj().optional(),b.isDraft=l.zM().optional();let N=l.Ik(b);function y(e){let{form:s,scores:a}=e;return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)(p.Zp,{children:[(0,r.jsx)(p.aR,{children:(0,r.jsxs)(p.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(j.A,{className:"w-5 h-5"}),"Scoring & Evaluation"]})}),(0,r.jsx)(p.Wu,{className:"px-6",children:(0,r.jsx)(u.Accordion,{type:"multiple",defaultValue:Object.keys(v),className:"w-full",children:Object.entries(v).map(e=>{let[l,i]=e;return(0,r.jsxs)(u.AccordionItem,{value:l,children:[(0,r.jsxs)(u.AccordionTrigger,{className:"text-lg font-semibold hover:no-underline",children:[l," (",i.length," criteria)"]}),(0,r.jsx)(u.AccordionContent,{className:"space-y-6 pt-6",children:(0,r.jsx)("div",{className:"space-y-6",children:i.map(e=>(0,r.jsx)(m.zB,{name:e.id,control:s.control,render:s=>{var l;let{field:i}=s;return(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(t.J,{htmlFor:e.id,className:"text-base font-medium",children:e.label}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(d,{id:e.id,min:0,max:10,step:.5,value:[i.value||5],onValueChange:e=>i.onChange(e[0]),className:"flex-1"}),(0,r.jsx)("span",{className:"w-16 text-center font-mono text-lg font-bold text-primary bg-primary/10 px-3 py-2 rounded min-w-0",children:(null!=(l=a[e.id])?l:5).toFixed(1)})]})]})}},e.id))})})]},l)})})})]}),(0,r.jsxs)(p.Zp,{children:[(0,r.jsx)(p.aR,{children:(0,r.jsxs)(p.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(g.A,{className:"w-5 h-5"}),"Audio & Video Feedback (Optional)"]})}),(0,r.jsx)(p.Wu,{className:"space-y-6",children:(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)(t.J,{className:"text-base font-medium flex items-center gap-2",children:[(0,r.jsx)(j.A,{className:"w-4 h-4"}),"Audio Feedback"]}),(0,r.jsx)(h.A,{onRecordingComplete:e=>s.setValue("audioFeedbackUrl",e),existingAudioUrl:a.audioFeedbackUrl})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)(t.J,{className:"text-base font-medium flex items-center gap-2",children:[(0,r.jsx)(f.A,{className:"w-4 h-4"}),"Video Feedback"]}),(0,r.jsx)(x.A,{onRecordingComplete:e=>s.setValue("videoFeedbackUrl",e),existingVideoUrl:a.videoFeedbackUrl})]})]})})]}),(0,r.jsxs)(p.Zp,{children:[(0,r.jsx)(p.aR,{children:(0,r.jsx)(p.ZB,{children:"Written Feedback"})}),(0,r.jsxs)(p.Wu,{className:"space-y-6",children:[(0,r.jsx)(m.zB,{control:s.control,name:"strengths",render:e=>{var s;let{field:a}=e;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(t.J,{htmlFor:"strengths",className:"text-lg font-semibold",children:"Strengths"}),(0,r.jsx)(m.MJ,{children:(0,r.jsx)(o.T,{id:"strengths",rows:4,placeholder:"What worked well in this track? Be specific about elements like melody, rhythm, lyrics, production choices, etc.",className:"resize-y",...a})}),(0,r.jsx)(m.C5,{}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(null==(s=a.value)?void 0:s.length)||0," characters (minimum 50 required)"]})]})}}),(0,r.jsx)(m.zB,{control:s.control,name:"improvements",render:e=>{var s;let{field:a}=e;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(t.J,{htmlFor:"improvements",className:"text-lg font-semibold",children:"Areas for Improvement"}),(0,r.jsx)(m.MJ,{children:(0,r.jsx)(o.T,{id:"improvements",rows:4,placeholder:"What could be improved? Offer constructive criticism on aspects that could be stronger.",className:"resize-y",...a})}),(0,r.jsx)(m.C5,{}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(null==(s=a.value)?void 0:s.length)||0," characters (minimum 50 required)"]})]})}}),(0,r.jsx)(m.zB,{control:s.control,name:"summary",render:e=>{var s;let{field:a}=e;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(t.J,{htmlFor:"summary",className:"text-lg font-semibold",children:"Overall Review"}),(0,r.jsx)(m.MJ,{children:(0,r.jsx)(o.T,{id:"summary",rows:6,placeholder:"Provide a comprehensive overall review of this track. Include your thoughts on the production, performance, commercial potential, and any other relevant aspects. This will be the main review text that appears on the artist's review page.",className:"min-h-[150px] resize-y",...a})}),(0,r.jsx)(m.C5,{}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(null==(s=a.value)?void 0:s.length)||0," characters (minimum 100 required)"]})]})}})]})]})]})}},10549:(e,s,a)=>{a.d(s,{Accordion:()=>n,AccordionContent:()=>u,AccordionItem:()=>d,AccordionTrigger:()=>o});var r=a(95155),l=a(12115),t=a(37250),i=a(79556),c=a(59434);let n=t.bL,d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,r.jsx)(t.q7,{ref:s,className:(0,c.cn)("border-b",a),...l})});d.displayName="AccordionItem";let o=l.forwardRef((e,s)=>{let{className:a,children:l,...n}=e;return(0,r.jsx)(t.Y9,{className:"flex",children:(0,r.jsxs)(t.l9,{ref:s,className:(0,c.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...n,children:[l,(0,r.jsx)(i.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});o.displayName=t.l9.displayName;let u=l.forwardRef((e,s)=>{let{className:a,children:l,...i}=e;return(0,r.jsx)(t.UC,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...i,children:(0,r.jsx)("div",{className:(0,c.cn)("pb-4 pt-0",a),children:l})})});u.displayName=t.UC.displayName},33598:(e,s,a)=>{a.d(s,{A:()=>p});var r=a(95155),l=a(12115),t=a(30285),i=a(66695),c=a(6273),n=a(78061),d=a(53764),o=a(13300),u=a(77223),m=a(16923),h=a(87481),x=a(82320);function p(e){let{onRecordingComplete:s,onRecordingDelete:a,existingAudioUrl:p,disabled:j=!1}=e,[g,f]=(0,l.useState)(!1),[v,b]=(0,l.useState)(0),[N,y]=(0,l.useState)(p||null),[w,k]=(0,l.useState)(!1),[C,R]=(0,l.useState)(!1),A=(0,l.useRef)(null),S=(0,l.useRef)([]),U=(0,l.useRef)(null),F=(0,l.useRef)(null),{toast:z}=(0,h.dj)(),M=(0,l.useCallback)(async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:44100}}),a=new MediaRecorder(e,{mimeType:"audio/webm;codecs=opus"});A.current=a,S.current=[],a.ondataavailable=e=>{S.current.push(e.data)},a.onstop=async()=>{let a=new Blob(S.current,{type:"audio/webm"}),r=URL.createObjectURL(a);y(r),e.getTracks().forEach(e=>e.stop()),R(!0);try{let e=new File([a],"audio-feedback-".concat(Date.now(),".webm"),{type:"audio/webm"}),r=await (0,x.QM)(e);y(r),null==s||s(r),z({title:"Audio Recorded",description:"Your audio feedback has been saved successfully."})}catch(e){console.error("Error uploading audio:",e),z({title:"Upload Failed",description:"Failed to upload audio. Please try again.",variant:"destructive"})}finally{R(!1)}},a.start(),f(!0),b(0),F.current=setInterval(()=>{b(e=>e+1)},1e3)}catch(e){console.error("Error starting recording:",e),z({title:"Recording Error",description:"Could not access microphone. Please check your permissions.",variant:"destructive"})}},[s,z]),E=(0,l.useCallback)(()=>{A.current&&g&&(A.current.stop(),f(!1),F.current&&(clearInterval(F.current),F.current=null))},[g]),P=(0,l.useCallback)(()=>{U.current&&N&&(w?(U.current.pause(),k(!1)):(U.current.play(),k(!0)))},[N,w]),B=(0,l.useCallback)(()=>{N&&(URL.revokeObjectURL(N),y(null),null==a||a(),z({title:"Recording Deleted",description:"Your audio feedback has been deleted."}))},[N,a,z]);return(0,r.jsxs)(i.Zp,{className:"w-full",children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(c.A,{className:"h-5 w-5"}),"Audio Feedback"]}),(0,r.jsx)(i.BT,{children:"Record audio feedback for this track (mobile & web optimized)"})]}),(0,r.jsxs)(i.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 justify-center",children:[!g&&!N&&(0,r.jsxs)(t.$,{onClick:M,disabled:j,className:"gap-2",size:"lg",children:[(0,r.jsx)(c.A,{className:"h-5 w-5"}),"Start Recording"]}),g&&(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),(0,r.jsx)("span",{className:"text-sm font-mono",children:(e=>{let s=Math.floor(e/60);return"".concat(s,":").concat((e%60).toString().padStart(2,"0"))})(v)})]}),(0,r.jsxs)(t.$,{onClick:E,variant:"destructive",className:"gap-2",size:"lg",children:[(0,r.jsx)(n.A,{className:"h-5 w-5"}),"Stop Recording"]})]})]}),N&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 justify-center",children:[(0,r.jsxs)(t.$,{onClick:P,variant:"outline",size:"lg",className:"gap-2",children:[w?(0,r.jsx)(d.A,{className:"h-5 w-5"}):(0,r.jsx)(o.A,{className:"h-5 w-5"}),w?"Pause":"Play"]}),(0,r.jsxs)(t.$,{onClick:B,variant:"destructive",size:"lg",className:"gap-2",children:[(0,r.jsx)(u.A,{className:"h-5 w-5"}),"Delete"]})]}),(0,r.jsx)("audio",{ref:U,src:N,onEnded:()=>k(!1),className:"w-full",controls:!0})]}),C&&(0,r.jsxs)("div",{className:"flex items-center gap-2 justify-center text-sm text-muted-foreground",children:[(0,r.jsx)(m.A,{className:"h-4 w-4 animate-spin"}),"Uploading audio feedback..."]}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground text-center",children:[(0,r.jsx)("p",{children:"• Tap and hold for better mobile experience"}),(0,r.jsx)("p",{children:"• Audio will be automatically uploaded when recording stops"}),(0,r.jsx)("p",{children:"• Maximum recording time: 10 minutes"})]})]})]})}},57599:(e,s,a)=>{a.d(s,{A:()=>g});var r=a(95155),l=a(12115),t=a(30285),i=a(66695),c=a(45481),n=a(67933),d=a(50185),o=a(78061),u=a(53764),m=a(13300),h=a(77223),x=a(16923),p=a(87481),j=a(82320);function g(e){let{onRecordingComplete:s,onRecordingDelete:a,existingVideoUrl:g,disabled:f=!1}=e,[v,b]=(0,l.useState)(!1),[N,y]=(0,l.useState)(0),[w,k]=(0,l.useState)(g||null),[C,R]=(0,l.useState)(!1),[A,S]=(0,l.useState)(!1),[U,F]=(0,l.useState)(!1),z=(0,l.useRef)(null),M=(0,l.useRef)([]),E=(0,l.useRef)(null),P=(0,l.useRef)(null),B=(0,l.useRef)(null),T=(0,l.useRef)(null),{toast:I}=(0,p.dj)(),L=(0,l.useCallback)(async()=>{try{let e=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user",frameRate:{ideal:30}},audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:44100}});B.current=e,P.current&&(P.current.srcObject=e),F(!0)}catch(e){console.error("Error accessing camera:",e),I({title:"Camera Error",description:"Could not access camera. Please check your permissions.",variant:"destructive"})}},[I]),O=(0,l.useCallback)(()=>{B.current&&(B.current.getTracks().forEach(e=>e.stop()),B.current=null),F(!1)},[]),V=(0,l.useCallback)(async()=>{if(!B.current)return void await L();try{let e=new MediaRecorder(B.current,{mimeType:"video/webm;codecs=vp9,opus"});z.current=e,M.current=[],e.ondataavailable=e=>{M.current.push(e.data)},e.onstop=async()=>{let e=new Blob(M.current,{type:"video/webm"}),a=URL.createObjectURL(e);k(a),O(),S(!0);try{let a=new File([e],"video-feedback-".concat(Date.now(),".webm"),{type:"video/webm"}),r=await (0,j.QM)(a);k(r),null==s||s(r),I({title:"Video Recorded",description:"Your video feedback has been saved successfully."})}catch(e){console.error("Error uploading video:",e),I({title:"Upload Failed",description:"Failed to upload video. Please try again.",variant:"destructive"})}finally{S(!1)}},e.start(),b(!0),y(0),T.current=setInterval(()=>{y(e=>e+1)},1e3)}catch(e){console.error("Error starting recording:",e),I({title:"Recording Error",description:"Could not start video recording. Please try again.",variant:"destructive"})}},[s,I,L,O]),Y=(0,l.useCallback)(()=>{z.current&&v&&(z.current.stop(),b(!1),T.current&&(clearInterval(T.current),T.current=null))},[v]),_=(0,l.useCallback)(()=>{E.current&&w&&(C?(E.current.pause(),R(!1)):(E.current.play(),R(!0)))},[w,C]),D=(0,l.useCallback)(()=>{w&&(URL.revokeObjectURL(w),k(null),null==a||a(),I({title:"Recording Deleted",description:"Your video feedback has been deleted."}))},[w,a,I]);return(0,r.jsxs)(i.Zp,{className:"w-full",children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(c.A,{className:"h-5 w-5"}),"Video Feedback"]}),(0,r.jsx)(i.BT,{children:"Record video feedback for this track (mobile & web optimized)"})]}),(0,r.jsxs)(i.Wu,{className:"space-y-4",children:[U&&!w&&(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("video",{ref:P,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-48 md:h-64 bg-black rounded-lg object-cover"}),v&&(0,r.jsxs)("div",{className:"absolute top-4 right-4 flex items-center gap-2 bg-red-500 text-white px-3 py-1 rounded-full",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),(0,r.jsx)("span",{className:"text-sm font-mono",children:(e=>{let s=Math.floor(e/60);return"".concat(s,":").concat((e%60).toString().padStart(2,"0"))})(N)})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 justify-center flex-wrap",children:[!U&&!w&&(0,r.jsxs)(t.$,{onClick:L,disabled:f,className:"gap-2",size:"lg",children:[(0,r.jsx)(n.A,{className:"h-5 w-5"}),"Enable Camera"]}),U&&!v&&!w&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(t.$,{onClick:V,disabled:f,className:"gap-2",size:"lg",children:[(0,r.jsx)(c.A,{className:"h-5 w-5"}),"Start Recording"]}),(0,r.jsxs)(t.$,{onClick:O,variant:"outline",className:"gap-2",size:"lg",children:[(0,r.jsx)(d.A,{className:"h-5 w-5"}),"Stop Camera"]})]}),v&&(0,r.jsxs)(t.$,{onClick:Y,variant:"destructive",className:"gap-2",size:"lg",children:[(0,r.jsx)(o.A,{className:"h-5 w-5"}),"Stop Recording"]})]}),w&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("video",{ref:E,src:w,controls:!0,playsInline:!0,className:"w-full h-48 md:h-64 bg-black rounded-lg object-cover",onEnded:()=>R(!1)}),(0,r.jsxs)("div",{className:"flex items-center gap-2 justify-center",children:[(0,r.jsxs)(t.$,{onClick:_,variant:"outline",size:"lg",className:"gap-2",children:[C?(0,r.jsx)(u.A,{className:"h-5 w-5"}):(0,r.jsx)(m.A,{className:"h-5 w-5"}),C?"Pause":"Play"]}),(0,r.jsxs)(t.$,{onClick:D,variant:"destructive",size:"lg",className:"gap-2",children:[(0,r.jsx)(h.A,{className:"h-5 w-5"}),"Delete"]})]})]}),A&&(0,r.jsxs)("div",{className:"flex items-center gap-2 justify-center text-sm text-muted-foreground",children:[(0,r.jsx)(x.A,{className:"h-4 w-4 animate-spin"}),"Uploading video feedback..."]}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground text-center",children:[(0,r.jsx)("p",{children:"• Use front camera for best mobile experience"}),(0,r.jsx)("p",{children:"• Video will be automatically uploaded when recording stops"}),(0,r.jsx)("p",{children:"• Maximum recording time: 10 minutes"}),(0,r.jsx)("p",{children:"• Keep your device steady while recording"})]})]})]})}}}]);