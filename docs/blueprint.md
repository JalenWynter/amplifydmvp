# **App Name**: Amplifyd

## 1. Core Concept

Amplifyd is a platform designed to connect musicians with music reviewers, providing a streamlined and secure process for submitting music and receiving high-quality feedback. The platform caters to both anonymous (one-time) and registered users, with a focus on a seamless user experience and robust security.

## 2. Core Features

### 2.1. Uploader (Musician) Flow

*   **Anonymous & Registered Submissions**: Musicians can submit tracks with or without an account.
*   **Reviewer Discovery**: A public gallery of reviewer profiles (`src/app/reviewers/page.tsx`) with detailed "1-pager" profiles (`src/app/reviewers/[id]/page.tsx`).
*   **Multi-Step Submission Form**: An intuitive form (`src/components/submission/submission-form.tsx`) for uploading audio files, providing metadata, and selecting a reviewer.
*   **Secure File Uploads**: Direct-to-client uploads to Firebase Storage using pre-signed URLs generated by the `getSignedUploadUrl` Firebase Function.
*   **Stripe Integration**: Secure payment processing via Stripe Checkout, initiated by the `createPaymentIntent` Firebase Function.
*   **Submission Tracking**: Anonymous users receive a unique `trackingToken` via email to track their submission status on a dedicated page (`src/app/review/[reviewId]/page.tsx`).
*   **Registered User Dashboard**: Registered users have a dashboard (`src/app/dashboard/page.tsx`) to view their submission history and manage their profile.

### 2.2. Reviewer Flow

*   **Application Process**: Aspiring reviewers can apply through a dedicated application form. Admins approve applications in the admin panel.
*   **Reviewer Dashboard**: A private dashboard (`src/app/dashboard/reviewer/page.tsx`) for reviewers to manage their profile, view assigned submissions, and submit reviews.
*   **Review Submission**: A dedicated interface for writing and submitting reviews, including a 16-factor scoring chart and star rating sliders.
*   **Payout Management**: Reviewers provide their payout information (e.g., PayPal, Venmo) in their profile for manual payouts by the admin.

### 2.3. Admin Panel

*   **Centralized Management**: A comprehensive admin panel (`src/app/admin/page.tsx`) for user management, reviewer application approval, submission tracking, and financial oversight.
*   **Referral Code Generation**: Admins can generate referral codes for trusted reviewers to invite other high-quality reviewers to the platform.

## 3. Technical Architecture

### 3.1. Frontend

*   **Framework**: Next.js 14 with the App Router.
*   **Language**: TypeScript.
*   **Styling**: Tailwind CSS with shadcn/ui components.
*   **State Management**: React Context API (`src/context/AuthContext.tsx`) for authentication state.
*   **Data Fetching**: React Server Components (RSCs) for initial data fetching, and client-side fetching with SWR or React Query for dynamic data.
*   **UI/UX**: Loading skeletons (`src/components/reviewers/ReviewerCardSkeleton.tsx`), toast notifications (`src/hooks/use-toast.ts`), and confetti (`src/components/confetti.tsx`) for a polished user experience.

### 3.2. Backend

*   **Platform**: Firebase (Authentication, Firestore, Storage, Functions).
*   **Language**: TypeScript.
*   **Core Functions**:
    *   `getSignedUploadUrl`: Generates pre-signed URLs for secure file uploads.
    *   `createPaymentIntent`: Creates a Stripe Payment Intent.
    *   `onPaymentSucceeded`: A Stripe webhook handler for processing successful payments.
    *   `getSubmissionStatusByToken`: Retrieves submission status for anonymous users.
    *   `assignReviewerRole`: Assigns the "reviewer" role to a user.
*   **Security**: Firebase Security Rules (`firestore.rules`, `storage.rules`) and App Check for all callable functions.

### 3.3. Database (Firestore)

*   **`users` collection**: Stores user profiles, roles, and reviewer-specific information.
*   **`submissions` collection**: Stores all submission data, including uploader information, audio file URL, reviewer ID, status, and the final review.
*   **`reviews` collection**: Stores the detailed review content, linked to the submission.

## 4. Build, Deployment, and Error Handling

### 4.1. Build Process

*   **Local Development**: Run `npm run dev` to start the Next.js development server.
*   **Production Build**: Run `npm run build` to create a production-ready build.
*   **Linting**: Run `npm run lint` to check for code quality and style issues.
*   **Testing**: Run `npm run test` to execute the test suite (`comprehensive-test.js`).

### 4.2. Deployment

*   **Hosting**: The application is deployed to Firebase Hosting.
*   **CI/CD**: A GitHub Actions workflow (`.github/workflows/firebase-hosting-pull-request.yml`) automatically deploys pull requests to a preview channel.
*   **Production Deployment**: The `deploy-production.sh` script is used to deploy the application to the production environment.

### 4.3. Error Handling and Monitoring

*   **Error Handling**: A centralized error handler (`src/lib/error-handler.ts`) is used to catch and log errors.
*   **Monitoring**: The `src/lib/monitoring.ts` file contains the configuration for a monitoring service (e.g., Sentry, LogRocket) to track and report errors in production.
*   **Logging**: Firebase Functions have built-in logging, which can be viewed in the Google Cloud Console.

## 5. Style Guidelines

*   **Primary Color**: Deep Blue (`#293462`)
*   **Accent Color**: Warm Orange (`#FF6B35`)
*   **Background Color**: Light Gray (`#F0F4F8`)
*   **Font Family**: Inter
*   **Code Font**: Source Code Pro
*   **Icons**: Lucide React for consistent and professional icons.
